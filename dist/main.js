(()=>{"use strict";var e={d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{N:()=>W});var t;!function(e){e.Ad="AD",e.Image="IMAGE",e.Video="VIDEO",e.Carousel="CAROUSEL",e.UNDEFINED="UNDEFINED"}(t||(t={}));const n={langs:{"en-US":{"helpers.localize_defaultlang":"[instantgram-light] set language: ${LANG_DEFAULT} \n For more information about available languages please check http://thinkbig-company.github.io/instantgram","index@alert_onlyWorks":"Works only on instagram.com","index@profilepage_downloader_disabled":"Sorry the ProfilePage downloader is currently disabled because instagram changed their system.\n\nMaybe in the future there will be a solution to fix the problem.","index@alert_dontFound":'Did you open any Instagram post? Like for example<br/><div style="text-align:center"><a href="https://www.instagram.com/p/CIGrv1VMBkS/" target="_blank" onMouseOver="this.style.textDecoration=\'underline\'" onMouseOut="this.style.textDecoration=\'initial\'">https://www.instagram.com/p/CIGrv1VMBkS/</a></div>',"index#program#modal_settings@title":"Settings","index#program#modal_settings@settings_attention":"Attention: You have to open [instantgram-light] again for your changes to be active!","index#program#modal_settings@settings_1":"Enable monetized posts<br>(ad blockers must be disabled)","index#program#modal_settings@settings_2":"Stories pause when opening [instantgram-light]","index#program#modal_settings@settings_3":"Open download in new tab","index#program#modal_settings@settings_4":"Change the file name format for downloads.<br/>The default format is as follows.","index#program#modal_settings@settings_4_1":"You can omit the above placeholders completely or customize them by adding hyphens, underscores, and periods.","index@download":"Download","index@save":"Save","index@saved":"Saved","index@close":"Close","modules.update@consoleWarnOutdatedInfo":"[instantgram-light] is outdated. Please check http://thinkbig-company.github.io/instantgram for available updates.","modules.update@consoleWarnOutdatedInfoVersions":"[instantgram-light] Installed version: ${data.version} | New update: ${data.onlineVersion}","modules.update@determineIfGetUpdateIsNecessary_contacting":"[instantgram-light] is looking for available updates...","modules.update@determineIfGetUpdateIsNecessary_updated":"[instantgram-light] updated your current version.","modules.update@determineIfGetUpdateIsNecessary_@update_available":"There is a new update available","modules.update@determineIfGetUpdateIsNecessary_@load_update":"Get update"},"es-AR":{"helpers.localize_defaultlang":"[instantgram-light] establecer idioma: ${LANG_DEFAULT} \n Para más información sobre los idiomas disponibles, consulte http://thinkbig-company.github.io/instantgram","index@alert_onlyWorks":"Sólo funciona en instagram.com","index@profilepage_downloader_disabled":"Lo siento, la descarga de ProfilePage está deshabilitada actualmente porque Instagram cambió su sistema.\n\nTal vez en el futuro haya una solución para solucionar el problema.","index@alert_dontFound":'¿Has abierto algún post de Instagram? Como por ejemplo<br/><div style="text-align:center"><a href="https://www.instagram.com/p/CIGrv1VMBkS/" target="_blank" onMouseOver="this.style.textDecoration=\'underline\'" onMouseOut="this.style.textDecoration=\'initial\'">https://www.instagram.com/p/CIGrv1VMBkS/</a></div>',"index#program#modal_settings@title":"Ajustes","index#program#modal_settings@settings_attention":"Atención: ¡Tienes que abrir [instantgram-light] nuevamente para que los cambios estén activos!","index#program#modal_settings@settings_1":"Habilitar publicaciones monetizadas<br>(los bloqueadores de anuncios deben estar deshabilitados)","index#program#modal_settings@settings_2":"Historias en pausa al abrir [instantgram-light]","index#program#modal_settings@settings_3":"Abrir la descarga en una nueva pestaña","index#program#modal_settings@settings_4":"Cambie el formato del nombre de archivo para las descargas.<br/>El formato predeterminado es el siguiente","index#program#modal_settings@settings_4_1":"Puede omitir por completo los marcadores de posición anteriores o personalizarlos agregando guiones, guiones bajos y puntos.","index@download":"Descargar","index@save":"Ahorrar","index@saved":"Salvado","index@close":"Cerca","modules.update@consoleWarnOutdatedInfo":"[instantgram-light] es obsoleto. Consulte en http://thinkbig-company.github.io/instantgram las actualizaciones disponibles.","modules.update@consoleWarnOutdatedInfoVersions":"[instantgram-light] Versión instalada: ${data.version} | Nueva actualización: ${data.onlineVersion}","modules.update@determineIfGetUpdateIsNecessary_contacting":"[instantgram-light] está buscando actualizaciones disponibles...","modules.update@determineIfGetUpdateIsNecessary_updated":"[instantgram-light] ha actualizado su versión actual.","modules.update@determineIfGetUpdateIsNecessary_@update_available":"Hay una nueva actualización disponible","modules.update@determineIfGetUpdateIsNecessary_@load_update":"Obtener información"},"de-DE":{"helpers.localize_defaultlang":"Ausgewählte Sprache: ${LANG_DEFAULT} \n Weitere Informationen zu den unterstützten Sprachen findest du auf http://thinkbig-company.github.io/instantgram","index@alert_onlyWorks":"Funktioniert nur auf instagram.com","index@profilepage_downloader_disabled":"Leider ist der ProfilePage-Downloader derzeit deaktiviert, da Instagram sein System geändert hat.\n\nVielleicht gibt es in Zukunft eine Lösung für dieses Problem.","index@alert_dontFound":'Hast du einen Instagram Post geöffnet? Zum Beispiel<br/><div style="text-align:center"><a href="https://www.instagram.com/p/CIGrv1VMBkS/" target="_blank" onMouseOver="this.style.textDecoration=\'underline\'" onMouseOut="this.style.textDecoration=\'initial\'">https://www.instagram.com/p/CIGrv1VMBkS/</a></div>',"index#program#modal_settings@title":"Einstellungen","index#program#modal_settings@settings_attention":"Achtung: Sie müssen [instantgram-light] erneut öffnen, damit ihre Änderungen aktiv sind!","index#program#modal_settings@settings_1":"Monetarisierte Beiträge aktivieren<br>(Werbeblocker müssen deaktiviert sein)","index#program#modal_settings@settings_2":"Stories pausieren beim öffnen von [instantgram-light]","index#program#modal_settings@settings_3":"Download in neuem Tab öffnen","index#program#modal_settings@settings_4":"Ändern Sie das Dateinamenformat für Downloads.<br/>Das Standardformat ist wie folgt","index#program#modal_settings@settings_4_1":"Sie können die obigen Platzhalter komplett weglassen oder sie durch Hinzufügen von Bindestrichen, Unterstrichen und Punkten anpassen.","index@download":"Herunterladen","index@save":"Speichern","index@saved":"Gespeichert","index@close":"Schließen","modules.update@consoleWarnOutdatedInfo":"[instantgram-light] ist veraltet. Bitte besuche die Seite http://thinkbig-company.github.io/instantgram für ein Update.","modules.update@consoleWarnOutdatedInfoVersions":"[instantgram-light] Installierte Version: ${data.version} | Neue Version: ${data.onlineVersion}","modules.update@determineIfGetUpdateIsNecessary_contacting":"[instantgram-light] sucht nach neuen verfügbaren Updates...","modules.update@determineIfGetUpdateIsNecessary_updated":"[instantgram-light] wurde aktualisiert.","modules.update@determineIfGetUpdateIsNecessary_@update_available":"Es ist ein neues Update verfügbar","modules.update@determineIfGetUpdateIsNecessary_@load_update":"Update laden"},"pt-BR":{"helpers.localize_defaultlang":"[instantgram-light] idioma configurado: ${LANG_DEFAULT} \npara mais informações sobre os idiomas suportados, acesse http://thinkbig-company.github.io/instantgram","index@alert_onlyWorks":"[instantgram-light] somente funciona no instagram.com","index@profilepage_downloader_disabled":"Lamentamos que o programa de download ProfilePage esteja atualmente desativado porque o programa mudou seu sistema.\n\nTalvez, no futuro, haja uma solução para resolver o problema.","index@alert_dontFound":'ops, você está em algum post do instagram? ex:<br/><div style="text-align:center"><a href="https://www.instagram.com/p/CIGrv1VMBkS/" target="_blank" onMouseOver="this.style.textDecoration=\'underline\'" onMouseOut="this.style.textDecoration=\'initial\'">https://www.instagram.com/p/CIGrv1VMBkS/</a></div>',"index#program#modal_settings@title":"Configurações","index#program#modal_settings@settings_attention":"Atenção: Você precisa abrir o [instantgram-light] novamente para que suas alterações sejam ativadas!","index#program#modal_settings@settings_1":"Habilitar postagens monetizadas<br>(os bloqueadores de anúncios devem estar desativados)","index#program#modal_settings@settings_2":"As histórias fazem uma pausa ao abrir [instantgram-light]","index#program#modal_settings@settings_3":"Abrir o download em uma nova guia","index#program#modal_settings@settings_4":"Altere o formato do nome do arquivo para downloads.<br/>O formato padrão é o seguinte","index#program#modal_settings@settings_4_1":"Você pode omitir completamente os espaços reservados acima ou ajustá-los adicionando hífens, sublinhados e pontos.","index@download":"Download","index@save":"Salvar","index@saved":"Salvo em","index@close":"Fechar","modules.update@consoleWarnOutdatedInfo":"[instantgram-light] está desatualizado. Acesse http://thinkbig-company.github.io/instantgram para atualizar","modules.update@consoleWarnOutdatedInfoVersions":"[instantgram-light] versão local: ${data.version} | nova versão: ${data.onlineVersion}","modules.update@determineIfGetUpdateIsNecessary_contacting":"[instantgram-light] está procurando atualizações...","modules.update@determineIfGetUpdateIsNecessary_updated":"[instantgram-light] informações locais atualizadas","modules.update@determineIfGetUpdateIsNecessary_@update_available":"Há uma nova atualização disponível","modules.update@determineIfGetUpdateIsNecessary_@load_update":"Carga de actualização"}}};let a=navigator.language;-1!==a.indexOf("-")&&(a=a.split("-")[0]),-1!==a.indexOf("_")&&(a=a.split("_")[0]);const o={de:"de-DE",en:"en-US",es:"es-AR",pt:"pt-BR"}[a];function i(e,t=o){try{return n.langs.hasOwnProperty(t)||(t="en-US"),n.langs[t][e]?n.langs[t][e]:""}catch(n){return console.error(`[${W.NAME}]LOC error:`,n),`ops, an error ocurred in localization system. Enter in https://github.com/ThinkBIG-Company/${W.NAME}/issues/new and open an issue with this code: 'LOC_dont_found_str_neither_default:[${t}->${e}]'\n    for more information open the console`}}console.info(i("helpers.localize_defaultlang").replace("${LANG_DEFAULT}",o));const r=i,s=new Map,d=new Map;const l=()=>{const e=/"X-IG-App-ID":"([\d]+)"/,t=document.querySelectorAll("body > script");for(let n=0;n<t.length;++n){const a=t[n].text.match(e);if(a)return a[1]}return null};const c=e=>"video_versions"in e?e.video_versions[0].url:e.image_versions2.candidates[0].url,m=async(e,t)=>{let n=t.getAttribute("src");return t.hasAttribute("videoURL")?n=t.getAttribute("videoURL"):(null===n||n.includes("blob"))&&(n=await async function(e,t){const n=t.getAttribute("poster"),a=e.querySelectorAll("time"),o=a[a.length-1].parentNode.parentNode.href,i=n?.match(/\/([^\/?]*)\?/),r=i?.[1],s=await fetch(o),d=await s.text(),l=new RegExp(`${r}.*?video_versions.*?url":("[^"]*")`,"s"),c=d.match(l);let m=JSON.parse(c?.[1]??"");return m=m.replace(/^(?:https?:\/\/)?(?:[^@\/\n]+@)?(?:www\.)?([^:\/?\n]+)/g,"https://scontent.cdninstagram.com"),t.setAttribute("videoURL",m),m}(e,t)),n};async function u(e,n){let a=!1,o=t.UNDEFINED,i=null;i=await g(e);let s,d="",l=0;i&&i.user&&i.user.username?s=i.user.username:console.log("Failed to fetch user information"),"carousel_media"in i&&(i=i.carousel_media[0]);let u=null;const p=localStorage.getItem(n.NAME+"_setting1_checkbox")||"false";if(null!=p&&"false"===p&&"ad"==i.product_type)return o=t.Ad,{found:a,mediaType:o,mediaInfo:i,modalBody:d,selectedIndex:l,userName:s};const h=new Date(1e3*i.taken_at);let f="{Username}__{Year}-{Month}-{Day}--{Hour}-{Minute}";const b=localStorage.getItem(n.NAME+"_setting1_input")||f;if(null!=b){f=function(e,t){for(const n in t){const a=new RegExp(`{${n}}`,"g");e=e.replace(a,t[n])}return e=(e=e.replace(/\s+/g,"-")).replace(/[^\w-.]/g,"")}(b,{Minute:h.getMinutes().toString().padStart(2,"0"),Hour:h.getHours().toString().padStart(2,"0"),Day:h.getDate().toString().padStart(2,"0"),Month:(h.getMonth()+1).toString().padStart(2,"0"),Year:h.getFullYear().toString(),Username:s})}let v=!1;const x=localStorage.getItem(n.NAME+"_setting3_checkbox")||"false";if(null!=x&&(v="true"===x),i.length>1){a=!0,o=t.Carousel;let s;s=window.location.pathname.startsWith("/p/")?e.querySelectorAll(":scope > div > div > div > div:nth-child(2)>div"):e.querySelectorAll(":scope > div > div:nth-child(2) > div >div>div> div>div:nth-child(2)>div"),l=[...s].findIndex((e=>2===e.classList.length)),d+='<div class="slider-container"><div class="slider">';for(let t=0;t<i?.length;t++){const a=i[t];if(void 0!==a.video_dash_manifest&&null!==a.video_dash_manifest){if(u=c(a),null===u){const t=e.querySelector("article  div > video");u=await m(e,t)}d+=`<div class="slide"><video style="background:black;" height="450" src="${u}" controls="controls" preload="metadata"></video>`,d+=v?`<a target="_blank" rel="noopener noreferrer" href="${u}" style="width:inherit;font-size:20px;font-weight:600;margin-top:-4px;" class="${n.NAME}-modal-db">${r("index@download")}</a>`:`<a href="https://instantgram.1337.pictures/download.php?data=${btoa(u)}:${btoa(f+"_"+Number(t+1)+".mp4")}" style="width:inherit;font-size:20px;font-weight:600;margin-top:-4px;" class="${n.NAME}-modal-db">${r("index@download")}</a>`,d+="</div>"}else{if(u=c(a),null===u){const t=e.querySelector("article div[role] div > img");t?u=t.getAttribute("src"):console.log("Err: not find media at handle post single")}d+=`<div class="slide"><img src="${u}" />`,d+=v?`<a target="_blank" rel="noopener noreferrer" href="${u}" style="width:inherit;font-size:20px;font-weight:600;margin-top:-4px;" class="${n.NAME}-modal-db">${r("index@download")}</a>`:`<a href="https://instantgram.1337.pictures/download.php?data=${btoa(u)}:${btoa(f+"_"+Number(t+1)+".jpg")}" style="width:inherit;font-size:20px;font-weight:600;margin-top:-4px;" class="${n.NAME}-modal-db">${r("index@download")}</a>`,d+="</div>"}}d+='</div><div class="slider-controls"></div></div>'}else if(void 0!==i.video_dash_manifest&&null!==i.video_dash_manifest){if(a=!0,o=t.Video,u=c(i),null===u){const t=e.querySelector("article  div > video");u=await m(e,t)}d+=`<video style="background:black;" width="500" height="450" src="${u}" controls="controls" preload="metadata"></video>`,d+=v?`<a target="_blank" rel="noopener noreferrer" href="${u}" style="width:inherit;font-size:20px;font-weight:600;margin-top:-4px;" class="${n.NAME}-modal-db">${r("index@download")}</a>`:`<a href="https://instantgram.1337.pictures/download.php?data=${btoa(u)}:${btoa(f+".mp4")}" style="width:inherit;font-size:20px;font-weight:600;margin-top:-4px;" class="${n.NAME}-modal-db">${r("index@download")}</a>`}else{if(a=!0,o=t.Image,u=c(i),null===u){const t=e.querySelector("article div[role] div > img");t?u=t.getAttribute("src"):console.log("Err: not find media at handle post single")}d+=`<img width="500" height="450" src="${u}" />`,d+=v?`<a target="_blank" rel="noopener noreferrer" href="${u}" style="width:inherit;font-size:20px;font-weight:600;margin-top:-4px;" class="${n.NAME}-modal-db">${r("index@download")}</a>`:`<a href="https://instantgram.1337.pictures/download.php?data=${btoa(u)}:${btoa(f+".jpg")}" style="width:inherit;font-size:20px;font-weight:600;margin-top:-4px;" class="${n.NAME}-modal-db">${r("index@download")}</a>`}return{found:a,mediaType:o,mediaInfo:i,modalBody:d,selectedIndex:l,userName:s}}function p(e){let t;t=null!==window&&void 0!==window?{top:window.pageYOffset,bottom:window.pageYOffset+window.innerHeight}:document.documentElement;const n=e.getBoundingClientRect(),a=n.y+window.pageYOffset,o=n.y+n.height+window.pageYOffset;if(t.top>o||t.bottom<a)return 0;if(t.top<a&&t.bottom>o)return 100;if(a<t.top&&o>t.bottom)return 100;const i=n.height;let r=i;a<t.top&&(r=i-(window.pageYOffset-a)),o>t.bottom&&(r-=o-t.bottom);const s=r/window.innerHeight*100;return Math.round(s)}const g=async e=>{try{const t=l();if(!t)return console.log("Cannot find appid"),null;const n=function(e){const t=window.location.pathname;if(t.startsWith("/reels/"))return t.split("/")[2];if(t.startsWith("/stories/"))return t.split("/")[3];if(t.startsWith("/reel/"))return t.split("/")[2];const n=/^\/p\/([^/]+)\//,a=e.querySelectorAll("a");for(let e=0;e<a.length;++e){const t=a[e].getAttribute("href");if(t){const e=t.match(n);if(e)return e[1]}}return null}(e);if(!n)return console.log("Cannot find post id"),null;const a=await(async e=>{const t=/instagram:\/\/media\?id=(\d+)|["' ]media_id["' ]:["' ](\d+)["' ]/,n=window.location.href.match(/www.instagram.com\/stories\/[^\/]+\/(\d+)/);if(n)return n[1];if(!d.has(e)){const n=`https://www.instagram.com/p/${e}/`,a=await fetch(n),o=(await a.text()).match(t);if(!o)return null;let i=null;for(let e=0;e<o.length;++e)o[e]&&(i=o[e]);if(!i)return null;d.set(e,i)}return d.get(e)})(n);if(!a)return console.log("Cannot find media id"),null;if(!s.has(a)){const e="https://i.instagram.com/api/v1/media/"+a+"/info/",n=await fetch(e,{method:"GET",headers:{Accept:"*/*","X-IG-App-ID":t},credentials:"include",mode:"cors"});if(200!==n.status)return console.log(`Fetch info API failed with status code: ${n.status}`),null;const o=await n.json();s.set(a,o)}return s.get(a).items[0]}catch(e){return console.log(`Uncatched in getUrlFromInfoApi(): ${e}\n${e.stack}`),null}},h=async e=>{try{const t=l();if(!t)return console.log("Cannot find appid"),null;const n="https://i.instagram.com/api/v1/users/"+e+"/info/",a=await fetch(n,{method:"GET",headers:{Accept:"*/*","X-IG-App-ID":t},credentials:"include",mode:"cors"});if(200!==a.status)return console.log(`Fetch info API failed with status code: ${a.status}`),null;return await a.json()}catch(e){return console.log(`Uncatched in getUrlFromInfoApi(): ${e}\n${e.stack}`),null}},f=async e=>{try{const t=l();if(!t)return console.log("Cannot find appid"),null;const n="https://i.instagram.com/api/v1/users/web_profile_info/?username="+e,a=await fetch(n,{method:"GET",headers:{Accept:"*/*","X-IG-App-ID":t},credentials:"include",mode:"cors"});if(200!==a.status)return console.log(`Fetch info API failed with status code: ${a.status}`),null;return await a.json()}catch(e){return console.log(`Uncatched in getUrlFromInfoApi(): ${e}\n${e.stack}`),null}};function b(e){document.querySelectorAll("style[id]").forEach((t=>{e.includes(t.id)&&t.parentNode.removeChild(t)}))}class v{getName(){return"FeedScanner"}async execute(e,t){try{let n,a;n=document.getElementsByTagName("article");let o=[];for(let e=0;e<n.length;e++){let t=n[e];if(null!=t&&null!=typeof t.getBoundingClientRect()){let n=p(t);o.push({i1:e,mediaEl:t,elemVisiblePercentage:n})}else o.push({i1:e,mediaEl:t,elemVisiblePercentage:0})}if(a=n[o.reduce(((e,t)=>e.elemVisiblePercentage>t.elemVisiblePercentage?e:t)).i1],void 0!==a||null!==a||""!==a){if(a.getBoundingClientRect().height<40)return;let t=await u(a,e);e.foundMediaObj={found:t.found,mediaType:t.mediaType,mediaInfo:t.mediaInfo,modalBody:t.modalBody,selectedIndex:t.selectedIndex,userName:t.userName}}t(e)}catch(n){console.error(this.getName()+"()",n),e.foundMediaObj={found:!1,mediaType:void 0,mediaInfo:void 0,modalBody:void 0,selectedIndex:void 0,userName:void 0},t(e)}}}class x{getName(){return"PostReelScanner"}async execute(e,t){try{let n;if(n=document.querySelector('div[role="dialog"] article')?document.querySelector('div[role="dialog"] article'):document.querySelector("section main > div > :first-child > :first-child"),void 0!==n||null!==n||""!==n){let t=await u(n,e);e.foundMediaObj={found:t.found,mediaType:t.mediaType,mediaInfo:t.mediaInfo,modalBody:t.modalBody,selectedIndex:t.selectedIndex,userName:t.userName}}t(e)}catch(n){console.error(this.getName()+"()",`[${e.NAME}] ${e.VERSION}`,n),e.foundMediaObj={found:!1,mediaType:void 0,mediaInfo:void 0,modalBody:void 0,selectedIndex:void 0,userName:void 0},t(e)}}}class y{getName(){return"ReelsScanner"}getPostId(){const e=window.location.href,t=e.match(/\/p\/([a-zA-Z0-9_-]+)/)?.[1];return t}async execute(e,t){try{let n,a,o="";n=document.querySelectorAll("section > main > div > div"),n=Array.from(n).filter((function(e){return e.children.length>0}));let i=[];for(let e=0;e<n.length;e++){let t=n[e];if(null!=t&&null!=typeof t.getBoundingClientRect()){let n=p(t);i.push({i1:e,mediaEl:t,elemVisiblePercentage:n})}else i.push({i1:e,mediaEl:t,elemVisiblePercentage:0})}if(a=n[i.reduce(((e,t)=>e.elemVisiblePercentage>t.elemVisiblePercentage?e:t)).i1],void 0!==a||null!==a||""!==a){let t=await u(a,e);o+=t.modalBody,e.foundMediaObj={found:t.found,mediaType:t.mediaType,mediaInfo:t.mediaInfo,modalBody:o,selectedIndex:t.selectedIndex,userName:t.userName}}t(e)}catch(n){console.error(this.getName()+"()",`[${e.NAME}] ${e.VERSION}`,n),e.foundMediaObj={found:!1,mediaType:void 0,mediaInfo:void 0,modalBody:void 0,selectedIndex:void 0,userName:void 0},t(e)}}}class w{getName(){return"StoriesScanner"}pauseCurrentStory(e){let t=e.querySelector("svg[viewBox='0 0 48 48']");if(null!==t)if("function"==typeof t.click)t.click();else{const e=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});t.dispatchEvent(e)}}async execute(e,t){try{let n="",a=document.querySelector("body > div:nth-child(2)");if(a){if(a.querySelector("section > div > div").childElementCount>1){let t=a.querySelector("section > div > div").childNodes;for(let a=0;a<t.length;a++){let o=t[a].style.transform;if(t[a].childElementCount>0&&o.includes("scale(1)")){const o=localStorage.getItem(e.NAME+"_setting2_checkbox");null!=o&&"true"===o&&this.pauseCurrentStory(t[a]);let i=await u(t[a],e);n+=i.modalBody,e.foundMediaObj={found:i.found,mediaType:i.mediaType,mediaInfo:i.mediaInfo,modalBody:n,selectedIndex:i.selectedIndex,userName:i.userName};break}}}else{let t=a.querySelectorAll("section");const o=localStorage.getItem(e.NAME+"_setting2_checkbox");null!=o&&"true"===o&&this.pauseCurrentStory(t[0]);let i=await u(t,e);n+=i.modalBody,e.foundMediaObj={found:i.found,mediaType:i.mediaType,mediaInfo:i.mediaInfo,modalBody:n,selectedIndex:i.selectedIndex,userName:i.userName}}}else e.foundMediaObj={found:!1,mediaType:void 0,mediaInfo:void 0,modalBody:void 0,selectedIndex:void 0,userName:void 0};t(e)}catch(n){console.error(this.getName()+"()",`[${e.NAME}] ${e.VERSION}`,n),e.foundMediaObj={found:!1,mediaType:void 0,mediaInfo:void 0,modalBody:void 0,selectedIndex:void 0,userName:void 0},t(e)}}}class _{getName(){return"MediaScanner"}async execute(e,t){try{if(document.querySelector("div."+e.NAME+"-modal-overlay."+e.NAME+"-modal-visible."+e.NAME+"-modal-show")){let t=document.querySelector("."+e.NAME+"-modal");return t.style.animation="horizontal-shaking 0.25s linear infinite",void setTimeout((function(){t.style.animation=null}),1e3)}b([e.NAME+"-cssGeneral",e.NAME+"-cssSlideOn",e.NAME+"-cssCarouselSlider"]);const n=document.createElement("style");n.id=e.NAME+"-cssGeneral",n.innerHTML="@keyframes horizontal-shaking{0%,100%{transform:translateX(0)}25%,75%{transform:translateX(5px)}50%{transform:translateX(-5px)}}.tns-nav{text-align:center;margin:10px 0}.tns-nav>.tns-nav-active{background:#999!important}.tns-nav>[aria-controls]{cursor:pointer;width:25px;height:25px;padding:0;margin:0 5px;border-radius:50%;background:#ddd;border:0}.container{display:flex;flex-direction:column}.row{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.row input[type=text]{width:100%}.mb-20{margin-bottom:20px}.left{text-align:left}",document.body.appendChild(n);const a=document.createElement("style");a.id=e.NAME+"-cssSlideOn",a.innerHTML='.slideon{position:relative;display:inline-block;width:42px;height:24px;vertical-align:middle}.slideon>input,input.slideon{display:none}.slideon-slider{position:absolute;cursor:pointer;border-radius:34px;top:0;left:0;right:0;bottom:0;background-color:#ccc;-webkit-transition:.4s;transition:.4s}.slideon-slider:before{position:absolute;content:"";height:22px;width:22px;left:1px;bottom:1px;border-radius:50%;background-color:#fff;-webkit-transition:.4s;transition:.4s;-webkit-box-shadow:0 0 3px 0 rgba(0,0,0,.45);-moz-box-shadow:0 0 3px 0 rgba(0,0,0,.45);box-shadow:0 0 3px 0 rgb(0,0,0,.45)}.slideon input:checked~.slideon-slider{background-color:#007bff}.slideon input:checked~.slideon-slider:before{-webkit-transform:translateX(18px);-ms-transform:translateX(18px);transform:translateX(18px)}.slideon input:disabled~.slideon-slider{opacity:.5}',document.body.appendChild(a);const o=document.createElement("style");return o.id=e.NAME+"-cssCarouselSlider",o.innerHTML=".slider-container{width:500px;overflow:hidden;position:relative}.slider{height:100%;display:flex;transition:left .5s;position:inherit}.slide{position:relative;background:#000}.slide img, .slide video{width:501px;height:300px;object-fit:contain}.slider-controls{display:flex;justify-content:center;margin-top:10px;margin-bottom:10px}.slider-controls button{cursor: pointer;width:25px;height:25px;padding:0;margin:0 5px;border-radius:50%;background:#ddd;border:0}.slider-controls button.active{background:#999}",document.body.appendChild(o),e.regexProfilePath.test(e.path)?(e.foundMediaObj={found:!1,mediaType:void 0,mediaInfo:void 0,modalBody:void 0,selectedIndex:void 0,userName:void 0},void t(e)):(e.regexStoriesURI.test(e.path)&&(new w).execute(e,(function(e){e.foundMediaObj.found&&(e.foundByModule=(new w).getName()),t(e)})),e.regexRootPath.test(e.path)&&(new v).execute(e,(function(e){e.foundMediaObj.found&&(e.foundByModule=(new v).getName()),t(e)})),e.regexReelsURI.test(e.path)&&(new y).execute(e,(function(e){e.foundMediaObj.found&&(e.foundByModule=(new y).getName()),t(e)})),void((e.regexPostPath.test(e.path)||e.regexReelURI.test(e.path))&&(new x).execute(e,(function(e){e.foundMediaObj.found&&(e.foundByModule=(new x).getName()),t(e)}))))}catch(n){console.error(this.getName()+"()",`[${e.NAME}] ${e.VERSION}`,n),e.foundMediaObj={found:!1,mediaType:void 0,mediaInfo:void 0,modalBody:void 0,selectedIndex:void 0,userName:void 0},t(e)}}}class N{constructor(e){if(this.modal=null,this.imageURL=e?.imageURL||"",this.heading=e?.heading||[""],this.headingStyle=e?.headingStyle||"",this.body=e?.body||[""],this.bodyStyle=e?.bodyStyle||"",this.buttonList=e?.buttonList||[],this.callback=e?.callback||null,null==document.getElementById(W.NAME+"-modal")){var t=document.createElement("style");t.id=W.NAME+"-modal",t.innerHTML=`.${W.NAME}-modal-overlay{display:none!important;opacity:0!important;transition:all ease .1s!important;position:fixed!important;top:0!important;left:0!important;right:0!important;bottom:0!important;z-index:1000!important;background:rgba(0,0,0,.65)!important;justify-content:center!important;align-items:center!important}.${W.NAME}-modal{transition:width ease-in-out .1s!important;display:inline-block!important;width:400px!important;padding:1.6px!important;z-index:1001!important}.${W.NAME}-modal select{margin-left:.8px!important;border:solid 1px #dbdbdb!important;border-radius:3px!important;color:#262626!important;outline:0!important;padding:3px!important;text-align:center!important}@media (min-width:736px){.${W.NAME}-modal{width:500px!important}}.${W.NAME}-modal-content{position:relative;display:flex;flex-direction:column;width:100%!important;pointer-events:auto!important;background-clip:padding-box!important;outline:0!important}.${W.NAME}-modal-header{color:#fff!important;background-color:#fd1d1d!important;background-image:linear-gradient(45deg,#405de6,#5851db,#833ab4,#c13584,#e1306c,#fd1d1d)!important;border-top-left-radius:12px!important;border-top-right-radius:12px!important;padding:0 16px 0 16px!important}.${W.NAME}-modal-header h5{color:#fff!important;font-family:"Open Sans","Helvetica Neue",Helvetica,Arial,sans-serif!important;font-size:16px!important;margin:revert!important}.${W.NAME}-modal-header h5:nth-child(2){margin-top:-15px!important;margin-bottom:20px!important}.${W.NAME}-modal-body{background:#fff!important;position:relative!important;-webkit-box-flex:1!important;-ms-flex:1 1 auto!important;flex:1 1 auto!important;padding:16px!important}.${W.NAME}-modal-body > img{background: black;object-fit:scale-down}.${W.NAME}-modal-body p{display:block!important;margin:revert!important;margin-block-start:1em!important;font-family:"Open Sans","Helvetica Neue",Helvetica,Arial,sans-serif!important;font-size:16px!important}.${W.NAME}-modal-footer{background-color:#fff!important;border-top:1px solid #dbdbdb!important;border-left:0!important;border-right:0!important;border-bottom-left-radius:12px!important;border-bottom-right-radius:12px!important;line-height:1.5!important;min-height:48px!important;padding:4px 8px!important;user-select:none!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important;-webkit-box-pack:end!important;-ms-flex-pack:end!important;justify-content:center!important}.${W.NAME}-modal-footer button{width:100%!important;min-height:39px!important;background-color:transparent!important;border:0!important;outline:0!important;cursor:pointer!important;font-family:"Open Sans","Helvetica Neue",Helvetica,Arial,sans-serif!important;font-size:16px!important}.${W.NAME}-modal-footer button.active{color:#0095e2!important}.${W.NAME}-modal-show{opacity:1!important}.${W.NAME}-modal-visible{display:flex!important}#${W.NAME}-bulk-download-indicator{text-align:center!important}.${W.NAME}-modal-db {\n    color: #fff!important;\n    background: linear-gradient(45deg,#405de6,#5851db,#833ab4,#c13584,#e1306c,#fd1d1d)!important;\n    display: block;\n    padding: 0.8rem;\n    width: 100%;\n    border: none;\n    cursor: pointer;\n}\n.${W.NAME}-modal-db:focus {\n  outline: none;\n  background: linear-gradient(45deg, rgba(64, 93, 230, 0.5), rgba(88, 81, 219, 0.5), rgba(131, 58, 180, 0.5), rgba(193, 53, 132, 0.5), rgba(225, 48, 108, 0.5), rgba(253, 29, 29, 0.5))!important;\n}\n.${W.NAME}-modal-header {\n  text-align: center;\n}\n.${W.NAME}-modal-header h5 {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.header-text-left {\n  margin-right: auto;\n}\n.header-text-right {\n  margin-left: auto;\n}\n.header-text-middle {\n  margin: 0;\n}\n.header-text-right:last-child {\n  margin-right: 30px;\n}\n.${W.NAME}-settings {\n  cursor: pointer;\n  display: inline-block;\n  color: rgba(255, 255, 255, 0.7);\n  background-color: rgba(255, 255, 255, 0.08);\n  border-color: rgba(255, 255, 255, 0.2);\n  border-style: solid;\n  border-width: 1px;\n  border-radius: 0.3rem;\n  transition: color 0.2s, background-color 0.2s, border-color 0.2s;\n  width: 40px;\n  height: 40px;\n  top: 16px;\n  right: 16px;\n  position: absolute;\n}\n.${W.NAME}-settings:hover {\n  color: rgba(255, 255, 255, 0.8);\n  text-decoration: none;\n  background-color: rgba(255, 255, 255, 0.2);\n  border-color: rgba(255, 255, 255, 0.3);\n}`,document.head.appendChild(t)}}get element(){return this.modal}createModal(){const e=document.createElement("div");e.classList.add(W.NAME+"-modal-overlay");const t=document.createElement("div");t.classList.add(W.NAME+"-modal"),e.appendChild(t);const n=document.createElement("div");n.classList.add(W.NAME+"-modal-content"),t.appendChild(n);const a=document.createElement("div");a.classList.add(W.NAME+"-modal-header"),this.headingStyle.length>0&&a.setAttribute("style",this.headingStyle),n.appendChild(a),this.heading.forEach((e=>{if("string"!=typeof e||/<\/?[a-z][\s\S]*>/i.test(e))if(/<\/?[a-z][\s\S]*>/i.test(e)){let t,n=document.createElement("div"),o=document.createDocumentFragment();for(n.innerHTML=e;t=n.firstChild;)o.appendChild(t);a.appendChild(o)}else a.appendChild(e);else{const t=document.createElement("h5");t.innerHTML=e,a.appendChild(t)}}));const o=document.createElement("div");if(o.classList.add(W.NAME+"-modal-body"),this.bodyStyle.length>0&&o.setAttribute("style",this.bodyStyle),n.appendChild(o),this.imageURL.length>0){const e=document.createElement("div");n.appendChild(e);const t=document.createElement("img");t.setAttribute("height","76px"),t.setAttribute("width","76px"),t.style.margin="auto",t.style.paddingBottom="20px",t.setAttribute("src",this.imageURL),e.appendChild(t)}if(this.body.forEach((e=>{if("string"!=typeof e||/<\/?[a-z][\s\S]*>/i.test(e))if(/<\/?[a-z][\s\S]*>/i.test(e)){let t,n=document.createElement("div"),a=document.createDocumentFragment();for(n.innerHTML=e;t=n.firstChild;)a.appendChild(t);o.appendChild(a)}else o.appendChild(e);else{const t=document.createElement("p");t.innerText=e,o.appendChild(t)}})),this.buttonList.length>0){const e=document.createElement("div");e.classList.add(W.NAME+"-modal-footer"),n.appendChild(e),this.buttonList.forEach((t=>{const n=document.createElement("button");n.classList.add(W.NAME+"-modal-button"),n.innerText=t.text,t.active&&n.classList.add("active"),n.onclick=()=>{t&&t.callback&&t.callback(),this.close.bind(this)()},e.appendChild(n)}))}else n.style.paddingBottom="4px;";return e}async open(){this.modal&&await this.close(),this.modal=this.createModal(),document.body.appendChild(this.modal),this.modal.classList.add(W.NAME+"-modal-visible"),setTimeout((()=>{this.modal.classList.add(W.NAME+"-modal-show")})),this?.callback&&this.callback(this,this.modal)}async close(){var e;this.modal&&(this.modal.classList.remove(W.NAME+"-modal-show"),await(e=100,new Promise((function(t){setTimeout(t,e)}))),this.modal.classList.remove(W.NAME+"-modal-visible"),this.modal.parentNode.removeChild(this.modal),this.modal=null)}async refresh(){this.modal&&(this.modal.parentNode.removeChild(this.modal),this.modal=null),await this.open(),this?.callback&&this.callback(this,this.modal.querySelector("."+W.NAME+"-modal-body"))}}var E=function(e,t,n){if(n||2===arguments.length)for(var a,o=0,i=t.length;o<i;o++)!a&&o in t||(a||(a=Array.prototype.slice.call(t,0,o)),a[o]=t[o]);return e.concat(a||Array.prototype.slice.call(t))},M=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},A=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},S=function(e,t,n,a){this.name=e,this.version=t,this.os=n,this.bot=a,this.type="bot-device"},k=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},I=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},$=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,O=3,C=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],B=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function L(e){return""!==e&&C.reduce((function(t,n){var a=n[0],o=n[1];if(t)return t;var i=o.exec(e);return!!i&&[a,i]}),!1)}function T(e){var t=L(e);if(!t)return null;var n=t[0],a=t[1];if("searchbot"===n)return new k;var o=a[1]&&a[1].split(".").join("_").split("_").slice(0,3);o?o.length<O&&(o=E(E([],o,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(O-o.length),!0)):o=[];var i=o.join("."),r=function(e){for(var t=0,n=B.length;t<n;t++){var a=B[t],o=a[0];if(a[1].exec(e))return o}return null}(e),s=$.exec(e);return s&&s[1]?new S(n,i,r,s[1]):new M(n,i,r)}function U(e){console.warn(r("modules.update@consoleWarnOutdatedInfo")),console.warn(r("modules.update@consoleWarnOutdatedInfoVersions").replace("${data.version}",e.version).replace("${data.onlineVersion}",e.onlineVersion))}const z=async function(e){if(function(e){const t=window.localStorage.getItem(`${W.NAME}`);if("string"==typeof t){const n=JSON.parse(t);return window.localStorage.setItem(`${W.NAME}`,JSON.stringify({version:e,onlineVersion:n.onlineVersion,lastVerification:n.lastVerification,dateExpiration:n.dateExpiration})),new Date(n.onlineVersion)>new Date(n.onlineVersion)&&U(n),Date.now()>n.dateExpiration}return!0}(e)){const t=await fetch("https://www.instagram.com/graphql/query/?query_hash=003056d32c2554def87228bc3fd9668a&variables={%22id%22:45039295328,%22first%22:100}"),n=(await t.json()).data.user.edge_owner_to_timeline_media.edges[0].node.edge_media_to_caption.edges[0].node.text.split("::"),a=n[0],o=n[1].split(/[.!?]/);let i='<ul style="padding: 20px;">';o.forEach((e=>{""!==e.trim()&&(i+=`<li>${e.trim()}</li>`)})),i+="</ul>";const s=a,d=new Date;d.setTime(d.getTime()+216e5),window.localStorage.setItem(`${W.NAME}`,JSON.stringify({version:e,onlineVersion:s,lastVerification:Date.now(),dateExpiration:d.valueOf()})),console.info(r("modules.update@determineIfGetUpdateIsNecessary_updated"));if(new Date(s)>new Date(e)){new N({heading:[`<h5>\n                        <span class="header-text-left">[${W.NAME}]</span>\n                        <span class="header-text-right" style="margin-right: 0">v${e}</span>\n                    </h5>\n                    `],body:[`<div style='display: block;border: 2px solid rgb(0 0 0 / 70%);border-left: none;border-right: none;border-top: none;padding: 5px;font-variant: small-caps;font-weight: 900;font-size: 16px;'>Es ist ein neues Update verfügbar <span style='float:right'>v${s}</span></div><div style='text-align:left'><h2 style='font-weight: bold;'><br>Changelog</h2>${i}</div><a href='http://thinkbig-company.github.io/${W.NAME}' target='_blank' onmouseover="this.style.textDecoration='underline'" onmouseout="this.style.textDecoration='initial'" style='display: block; text-align: center;text-decoration: initial; margin: 0px auto; padding: 10px; color: black; border-style: solid; border-image-slice: 1; border-width: 3px; border-image-source: linear-gradient(to left, rgb(213, 58, 157), rgb(116, 58, 213));'>${r("modules.update@determineIfGetUpdateIsNecessary_@load_update")}</a>`],buttonList:[{active:!0,text:"Ok"}]}).open();U(JSON.parse(window.localStorage.getItem(`${W.NAME}`)))}else console.info(window.localStorage.getItem(`${W.NAME}`))}};console.clear();var V;const W={NAME:"instantgram_light",VERSION:"2023.10.27",browser:V?T(V):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new I:"undefined"!=typeof navigator?T(navigator.userAgent):"undefined"!=typeof process&&process.version?new A(process.version.slice(1)):null,hostname:window.location.hostname,path:window.location.pathname,regexHostname:/^instagram\.com/,regexRootPath:/^\/+$/,regexProfilePath:/^\/([A-Za-z0-9._]{2,3})+\/$/,regexPostPath:/^\/p\//,regexReelURI:/reel\/(.*)+/,regexReelsURI:/reels\/(.*)+/,regexStoriesURI:/stories\/(.*)+/,foundByModule:null,foundMediaObj:void 0};function P(e,t){new N({heading:[`<h5>\n          <span class="header-text-middle">@${t}\n            <button class="${W.NAME}-settings">\n              <svg style="margin-left: auto; margin-right: auto;" aria-label="Optionen" class="x1lliihq x1n2onr6" color="rgb(255, 255, 255)" fill="rgb(255, 255, 255)" height="24" role="img" viewBox="0 0 24 24" width="24">\n                <title>Optionen</title>\n                <circle cx="12" cy="12" fill="none" r="8.635" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></circle>\n                <path d="M14.232 3.656a1.269 1.269 0 0 1-.796-.66L12.93 2h-1.86l-.505.996a1.269 1.269 0 0 1-.796.66m-.001 16.688a1.269 1.269 0 0 1 .796.66l.505.996h1.862l.505-.996a1.269 1.269 0 0 1 .796-.66M3.656 9.768a1.269 1.269 0 0 1-.66.796L2 11.07v1.862l.996.505a1.269 1.269 0 0 1 .66.796m16.688-.001a1.269 1.269 0 0 1 .66-.796L22 12.93v-1.86l-.996-.505a1.269 1.269 0 0 1-.66-.796M7.678 4.522a1.269 1.269 0 0 1-1.03.096l-1.06-.348L4.27 5.587l.348 1.062a1.269 1.269 0 0 1-.096 1.03m11.8 11.799a1.269 1.269 0 0 1 1.03-.096l1.06.348 1.318-1.317-.348-1.062a1.269 1.269 0 0 1 .096-1.03m-14.956.001a1.269 1.269 0 0 1 .096 1.03l-.348 1.06 1.317 1.318 1.062-.348a1.269 1.269 0 0 1 1.03.096m11.799-11.8a1.269 1.269 0 0 1-.096-1.03l.348-1.06-1.317-1.318-1.062.348a1.269 1.269 0 0 1-1.03-.096" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="2"></path>\n              </svg>\n            </button>\n          </span>\n        </h5>`],body:[W.foundMediaObj.modalBody],bodyStyle:"padding:0!important;text-align:center",buttonList:[{active:!0,text:r("index@close")}],callback:(t,n)=>{if(null!==n.querySelector(".slider")){const a=n.querySelector(".slider"),o=n.querySelectorAll(".slide"),i=n.querySelector(".slider-controls");let s=W.foundMediaObj.selectedIndex;for(let c=0;c<o.length;c++){const m=e.createElement("button");m.setAttribute("data-index",String(c)),m.innerHTML=String(c+1),m.addEventListener("click",(()=>{s=c,l()})),i.appendChild(m)}const d=n.querySelectorAll(".slider-controls button");function l(){const e=-o[0].clientWidth*s;a.style.transform=`translateX(${e}px)`,d.forEach(((e,t)=>{e.classList.toggle("active",t===s)}))}d[s].classList.add("active"),l()}n.querySelector(`.${W.NAME}-settings`).addEventListener("click",(()=>{new N({heading:[`<h5>\n                <span class="header-text-left">[${W.NAME}]</span>\n                <span class="header-text-middle">${r("index#program#modal_settings@title")}</span>\n                <span class="header-text-right" style="margin-right: 0">v${W.VERSION}</span>\n              </h5>`],body:[`<form style="padding-top: 25px;padding-bottom: 25px;padding-left: 20px;padding-right: 20px;">\n                <div class="container">\n                  <div class="row mb-20"><strong>${r("index#program#modal_settings@settings_attention")}</strong></div>\n                  <div class="row">\n                    <div class="left"><strong>${r("index#program#modal_settings@settings_1")}:</strong></div>\n                    <div class="right">\n                      <label class="slideon">\n                        <input type="checkbox" id="setting1-checkbox">\n                        <span class="slideon-slider"></span>\n                      </label>\n                    </div>\n                  </div>\n                  <div class="row">\n                    <div class="left"><strong>${r("index#program#modal_settings@settings_2")}:</strong></div>\n                    <div class="right">\n                      <label class="slideon">\n                        <input type="checkbox" id="setting2-checkbox">\n                        <span class="slideon-slider"></span>\n                      </label>\n                    </div>\n                  </div>\n                  <div class="row">\n                    <div class="left"><strong>${r("index#program#modal_settings@settings_3")}:</strong></div>\n                    <div class="right">\n                      <label class="slideon">\n                        <input type="checkbox" id="setting3-checkbox">\n                        <span class="slideon-slider"></span>\n                      </label>\n                    </div>\n                  </div>\n                  <div class="row">&nbsp;</div>\n                  <div class="row">\n                    <div class="left" style="text-align: left">\n                      <strong>${r("index#program#modal_settings@settings_4")}</strong><br>\n                      {Username}__{Year}-{Month}-{Day}--{Hour}-{Minute}<br><br>\n                      <strong>${r("index#program#modal_settings@settings_4_1")}</strong>\n                    </div>\n                  </div>\n                  <div class="row">\n                    <div class="left" style="display: contents">\n                      <input type="text" id="setting1-input" value="{Username}__{Year}-{Month}-{Day}--{Hour}-{Minute}">\n                      <button type="button" id="saveFilenameFormat">${r("index@save")}</button>\n                    </div>\n                  </div>\n                </div>\n              </form>`],bodyStyle:"padding:0!important;text-align:center",buttonList:[{active:!0,text:r("index@close")}],callback:(e,t)=>{!function(e){for(let t=1;t<=3;t++){const n=`setting${t}`,a=e.querySelector(`#${n}-checkbox`);if(a){const e=localStorage.getItem(W.NAME+"_"+n+"_checkbox");a.checked="true"===e,a.addEventListener("change",(()=>{localStorage.getItem(W.NAME+"_"+n+"_checkbox");const e=String(a.checked);localStorage.setItem(W.NAME+"_"+n+"_checkbox",e)}))}const o=e.querySelector(`#${n}-input`);if(o){const t=localStorage.getItem(W.NAME+"_"+n+"_input");o.value=t||"{Username}__{Year}-{Month}-{Day}--{Hour}-{Minute}";const a=e.querySelector("#saveFilenameFormat");a.addEventListener("click",(e=>{e.preventDefault(),localStorage.getItem(W.NAME+"_"+n+"_input");const t=String(o.value);localStorage.setItem(W.NAME+"_"+n+"_input",t),a.textContent=r("index@saved"),a.style.color="white",a.style.backgroundColor="green",setTimeout((()=>{a.textContent=r("index@save"),a.style.color="black",a.style.backgroundColor="buttonface"}),1e3)}))}}}(t)}}).open()})),n.querySelector("."+W.NAME+"-modal-footer > ."+W.NAME+"-modal-button").addEventListener("click",(()=>{b([W.NAME+"-cssGeneral",W.NAME+"-cssSlideOn",W.NAME+"-cssCarouselSlider"])}))}}).open()}"instagram.com"===W.hostname||"www.instagram.com"===W.hostname?((new _).execute(W,(e=>{if(e.foundMediaObj.found)P(document,e.foundMediaObj.userName);else{if(e.foundMediaObj.mediaType==t.Ad)return;e.regexProfilePath.test(e.path)?async function(){try{let e=null,n=null;const a=/instagram.com\/([A-Za-z0-9_.]+)/,o=window.location.href.match(a);if(o){const t=o[1];e=await f(t),n=e.data.user.id}else console.log("Could not get the username from insta url.");if(e=await h(n),e){let n=!1;const a=localStorage.getItem(W.NAME+"_setting3_checkbox")||"false";null!=a&&(n="true"===a);const o=e.user.hd_profile_pic_url_info.url,i=e.user.username;let s="";s+=`<div class="slide"><img src="${o}" />`,s+=n?`<a target="_blank" rel="noopener noreferrer" href="${o}" style="width:inherit;font-size:20px;font-weight:600;margin-top:-4px;" class="${W.NAME}-modal-db">${r("index@download")}</a>`:`<a href="https://instantgram.1337.pictures/download.php?data=${btoa(o)}:${btoa(i+".jpg")}" style="width:inherit;font-size:20px;font-weight:600;margin-top:-4px;" class="${W.NAME}-modal-db">${r("index@download")}</a>`,s+="</div>",W.foundMediaObj={found:!0,mediaType:t.Image,mediaInfo:void 0,modalBody:s,selectedIndex:void 0,userName:i},P(document,i)}else console.log("Failed to fetch user information")}catch(e){return console.log(`Some error in handleProfilePage: ${e}\n${e.stack}`),null}}():W.foundByModule||new N({heading:[`<h5>\n            <span class="header-text-left">[${W.NAME}]</span>\n            <span class="header-text-right" style="margin-right: 0">v${W.VERSION}</span>\n          </h5>`],body:[r("index@alert_dontFound")],bodyStyle:"text-align:center",buttonList:[{active:!0,text:"Ok"}]}).open()}})),z(W.VERSION)):new N({heading:[`<h5>\n          <span class="header-text-left">[${W.NAME}]</span>\n          <span class="header-text-right" style="margin-right: 0">v${W.VERSION}</span>\n        </h5>`],body:[r("index@alert_onlyWorks")],bodyStyle:"text-align:center",buttonList:[{active:!0,text:"Ok"}]}).open()})();
//# sourceMappingURL=main.js.map