{"version":3,"file":"main.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA,qBAAqB,SAAI,IAAI,SAAI;AACjC,6EAA6E,OAAO;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACsB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACmB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAC8B;AAC/B;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,CAAC;AACkB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAC0B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,4CAA4C;AACzF;AACA;AACA,6BAA6B;AAC7B;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,0DAA0D,YAAY;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA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","sources":["webpack://instantgram-light/./node_modules/detect-browser/es/index.js","webpack://instantgram-light/./src/components/Interconnect.ts","webpack://instantgram-light/./src/components/Modal.ts","webpack://instantgram-light/./src/helpers/localize.ts","webpack://instantgram-light/./src/helpers/utils.ts","webpack://instantgram-light/./src/index.ts","webpack://instantgram-light/./src/localization.ts","webpack://instantgram-light/./src/model/mediaType.ts","webpack://instantgram-light/./src/modules/FeedScanner.ts","webpack://instantgram-light/./src/modules/MediaScanner.ts","webpack://instantgram-light/./src/modules/PostReelScanner.ts","webpack://instantgram-light/./src/modules/ReelsScanner.ts","webpack://instantgram-light/./src/modules/StoriesScanner.ts","webpack://instantgram-light/./src/modules/Update.ts","webpack://instantgram-light/webpack/bootstrap","webpack://instantgram-light/webpack/runtime/define property getters","webpack://instantgram-light/webpack/runtime/hasOwnProperty shorthand","webpack://instantgram-light/webpack/runtime/make namespace object","webpack://instantgram-light/webpack/before-startup","webpack://instantgram-light/webpack/startup","webpack://instantgram-light/webpack/after-startup"],"sourcesContent":["var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.type = 'browser';\n    }\n    return BrowserInfo;\n}());\nexport { BrowserInfo };\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.type = 'node';\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nexport { NodeInfo };\nvar SearchBotDeviceInfo = /** @class */ (function () {\n    function SearchBotDeviceInfo(name, version, os, bot) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.bot = bot;\n        this.type = 'bot-device';\n    }\n    return SearchBotDeviceInfo;\n}());\nexport { SearchBotDeviceInfo };\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.type = 'bot';\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\nexport { BotInfo };\nvar ReactNativeInfo = /** @class */ (function () {\n    function ReactNativeInfo() {\n        this.type = 'react-native';\n        this.name = 'react-native';\n        this.version = null;\n        this.os = null;\n    }\n    return ReactNativeInfo;\n}());\nexport { ReactNativeInfo };\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /EdgA?\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['pie', /^Microsoft Pocket Internet Explorer\\/(\\d+\\.\\d+)$/],\n    ['pie', /^Mozilla\\/\\d\\.\\d+\\s\\(compatible;\\s(?:MSP?IE|MSInternet Explorer) (\\d+\\.\\d+);.*Windows CE.*\\)$/],\n    ['netfront', /^Mozilla\\/\\d\\.\\d+.*NetFront\\/(\\d.\\d)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FB[AS]V\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['curl', /^curl\\/([0-9\\.]+)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Windows CE', /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n];\nexport function detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof document === 'undefined' &&\n        typeof navigator !== 'undefined' &&\n        navigator.product === 'ReactNative') {\n        return new ReactNativeInfo();\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nfunction matchUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    return (ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false));\n}\nexport function browserName(ua) {\n    var data = matchUserAgent(ua);\n    return data ? data[0] : null;\n}\nexport function parseUserAgent(ua) {\n    var matchedRule = matchUserAgent(ua);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    // Do not use RegExp for split operation as some browser do not support it (See: http://blog.stevenlevithan.com/archives/cross-browser-split)\n    var versionParts = match[1] && match[1].split('.').join('_').split('_').slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArray(__spreadArray([], versionParts, true), createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length), true);\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    var version = versionParts.join('.');\n    var os = detectOS(ua);\n    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);\n    if (searchBotMatch && searchBotMatch[1]) {\n        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);\n    }\n    return new BrowserInfo(name, version, os);\n}\nexport function detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.exec(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nexport function getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n","export const cssGeneral = `@keyframes horizontal-shaking{0%,100%{transform:translateX(0)}25%,75%{transform:translateX(5px)}50%{transform:translateX(-5px)}}.tns-nav{text-align:center;margin:10px 0}.tns-nav>.tns-nav-active{background:#999!important}.tns-nav>[aria-controls]{cursor:pointer;width:25px;height:25px;padding:0;margin:0 5px;border-radius:50%;background:#ddd;border:0}.container{display:flex;flex-direction:column}.row{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.row input[type=text]{width:100%}.mb-20{margin-bottom:20px}.left{text-align:left}`\r\n\r\nexport const cssCarouselSlider = `.slider-container{width:500px;overflow:hidden;position:relative}.slider{height:100%;display:flex;transition:left .5s;position:inherit}.slide{position:relative;background:#000}.slide img, .slide video{width:501px;height:300px;object-fit:contain}.slider-controls{display:flex;justify-content:center;margin-top:10px;margin-bottom:10px}.slider-controls button{cursor: pointer;width:25px;height:25px;padding:0;margin:0 5px;border-radius:50%;background:#ddd;border:0}.slider-controls button.active{background:#999}`\r\n\r\nexport const cssSlideOn = `.slideon{position:relative;display:inline-block;width:42px;height:24px;vertical-align:middle}.slideon>input,input.slideon{display:none}.slideon-slider{position:absolute;cursor:pointer;border-radius:34px;top:0;left:0;right:0;bottom:0;background-color:#ccc;-webkit-transition:.4s;transition:.4s}.slideon-slider:before{position:absolute;content:\"\";height:22px;width:22px;left:1px;bottom:1px;border-radius:50%;background-color:#fff;-webkit-transition:.4s;transition:.4s;-webkit-box-shadow:0 0 3px 0 rgba(0,0,0,.45);-moz-box-shadow:0 0 3px 0 rgba(0,0,0,.45);box-shadow:0 0 3px 0 rgb(0,0,0,.45)}.slideon input:checked~.slideon-slider{background-color:#007bff}.slideon input:checked~.slideon-slider:before{-webkit-transform:translateX(18px);-ms-transform:translateX(18px);transform:translateX(18px)}.slideon input:disabled~.slideon-slider{opacity:.5}`","import { program } from \"..\"\r\nimport { sleep } from \"../helpers/utils\"\r\n\r\n/**\r\n * An interface for the modal button\r\n */\r\nexport interface ModalButton {\r\n  text: string\r\n  active?: boolean\r\n\r\n  callback?(): void\r\n}\r\n\r\nexport interface ModalOptions {\r\n  imageURL?: string\r\n  heading?: (HTMLElement | string)[]\r\n  headingStyle?: string\r\n  body?: (HTMLElement | string)[]\r\n  bodyStyle?: string\r\n  buttonList?: ModalButton[]\r\n  callback?(arg0: Modal, arg1: HTMLElement): void\r\n}\r\n\r\nexport class Modal {\r\n  public imageURL?: string\r\n  public heading?: (HTMLElement | string)[]\r\n  public headingStyle?: string\r\n  public body?: (HTMLElement | string)[]\r\n  public bodyStyle?: string\r\n  public buttonList?: ModalButton[]\r\n  public callback?(arg0: Modal, arg1: HTMLElement): void\r\n\r\n  private modal: HTMLDivElement | null = null\r\n\r\n  public constructor(modalOptions?: ModalOptions) {\r\n    this.imageURL = modalOptions?.imageURL || ''\r\n    this.heading = modalOptions?.heading || ['']\r\n    this.headingStyle = modalOptions?.headingStyle || ''\r\n    this.body = modalOptions?.body || ['']\r\n    this.bodyStyle = modalOptions?.bodyStyle || ''\r\n    this.buttonList = modalOptions?.buttonList || []\r\n    this.callback = modalOptions?.callback || null\r\n\r\n    let element = document.getElementById(program.NAME + '-modal')\r\n    if (element == null) {\r\n      var style = document.createElement('style')\r\n      style.id = program.NAME + '-modal'\r\n      style.innerHTML = `.${program.NAME}-modal-overlay{display:none!important;opacity:0!important;transition:all ease .1s!important;position:fixed!important;top:0!important;left:0!important;right:0!important;bottom:0!important;z-index:1000!important;background:rgba(0,0,0,.65)!important;justify-content:center!important;align-items:center!important}.${program.NAME}-modal{transition:width ease-in-out .1s!important;display:inline-block!important;width:400px!important;padding:1.6px!important;z-index:1001!important}.${program.NAME}-modal select{margin-left:.8px!important;border:solid 1px #dbdbdb!important;border-radius:3px!important;color:#262626!important;outline:0!important;padding:3px!important;text-align:center!important}@media (min-width:736px){.${program.NAME}-modal{width:500px!important}}.${program.NAME}-modal-content{position:relative;display:flex;flex-direction:column;width:100%!important;pointer-events:auto!important;background-clip:padding-box!important;outline:0!important}.${program.NAME}-modal-header{color:#fff!important;background-color:#fd1d1d!important;background-image:linear-gradient(45deg,#405de6,#5851db,#833ab4,#c13584,#e1306c,#fd1d1d)!important;border-top-left-radius:12px!important;border-top-right-radius:12px!important;padding:0 16px 0 16px!important}.${program.NAME}-modal-header h5{color:#fff!important;font-family:\"Open Sans\",\"Helvetica Neue\",Helvetica,Arial,sans-serif!important;font-size:16px!important;margin:revert!important}.${program.NAME}-modal-header h5:nth-child(2){margin-top:-15px!important;margin-bottom:20px!important}.${program.NAME}-modal-body{background:#fff!important;color:black!important;position:relative!important;-webkit-box-flex:1!important;-ms-flex:1 1 auto!important;flex:1 1 auto!important;padding:16px!important}.${program.NAME}-modal-body > img{background: black;object-fit:scale-down}.${program.NAME}-modal-body p{display:block!important;margin:revert!important;margin-block-start:1em!important;font-family:\"Open Sans\",\"Helvetica Neue\",Helvetica,Arial,sans-serif!important;font-size:16px!important}.${program.NAME}-modal-footer{background-color:#fff!important;border-top:1px solid #dbdbdb!important;border-left:0!important;border-right:0!important;border-bottom-left-radius:12px!important;border-bottom-right-radius:12px!important;line-height:1.5!important;min-height:48px!important;padding:4px 8px!important;user-select:none!important;display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-align:center!important;-ms-flex-align:center!important;align-items:center!important;-webkit-box-pack:end!important;-ms-flex-pack:end!important;justify-content:center!important}.${program.NAME}-modal-footer button{width:100%!important;min-height:39px!important;background-color:transparent!important;border:0!important;outline:0!important;cursor:pointer!important;font-family:\"Open Sans\",\"Helvetica Neue\",Helvetica,Arial,sans-serif!important;font-size:16px!important}.${program.NAME}-modal-footer button.active{color:#0095e2!important}.${program.NAME}-modal-show{opacity:1!important}.${program.NAME}-modal-visible{display:flex!important}#${program.NAME}-bulk-download-indicator{text-align:center!important}.${program.NAME}-modal-db {\r\n    color: #fff!important;\r\n    background: linear-gradient(45deg,#405de6,#5851db,#833ab4,#c13584,#e1306c,#fd1d1d)!important;\r\n    display: block;\r\n    padding: 0.8rem;\r\n    width: 100%;\r\n    border: none;\r\n    cursor: pointer;\r\n}\r\n.${program.NAME}-modal-db:focus {\r\n  outline: none;\r\n  background: linear-gradient(45deg, rgba(64, 93, 230, 0.5), rgba(88, 81, 219, 0.5), rgba(131, 58, 180, 0.5), rgba(193, 53, 132, 0.5), rgba(225, 48, 108, 0.5), rgba(253, 29, 29, 0.5))!important;\r\n}\r\n.${program.NAME}-modal-header {\r\n  text-align: center;\r\n}\r\n.${program.NAME}-modal-header h5 {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.header-text-left {\r\n  margin-right: auto;\r\n}\r\n.header-text-right {\r\n  margin-left: auto;\r\n}\r\n.header-text-middle {\r\n  margin: 0;\r\n}\r\n.header-text-right:last-child {\r\n  margin-right: 30px;\r\n}\r\n.${program.NAME}-settings {\r\n  cursor: pointer;\r\n  display: inline-block;\r\n  color: rgba(255, 255, 255, 0.7);\r\n  background-color: rgba(255, 255, 255, 0.08);\r\n  border-color: rgba(255, 255, 255, 0.2);\r\n  border-style: solid;\r\n  border-width: 1px;\r\n  border-radius: 0.3rem;\r\n  transition: color 0.2s, background-color 0.2s, border-color 0.2s;\r\n  width: 40px;\r\n  height: 40px;\r\n  top: 16px;\r\n  right: 16px;\r\n  position: absolute;\r\n}\r\n.${program.NAME}-settings:hover {\r\n  color: rgba(255, 255, 255, 0.8);\r\n  text-decoration: none;\r\n  background-color: rgba(255, 255, 255, 0.2);\r\n  border-color: rgba(255, 255, 255, 0.3);\r\n}\r\n.${program.NAME}-modal-body input {\r\n  color: black!important;\r\n}\r\n.${program.NAME}-modal-body button {\r\n  border-top-left-radius:0!important;\r\n  border-bottom-left-radius:0!important;\r\n}`\r\n      document.head.appendChild(style)\r\n    }\r\n  }\r\n\r\n  public get element(): HTMLDivElement | null {\r\n    return this.modal\r\n  }\r\n\r\n  private createModal(): HTMLDivElement {\r\n    const modalElement = document.createElement('div')\r\n    modalElement.classList.add(program.NAME + '-modal-overlay')\r\n\r\n    const modal = document.createElement('div')\r\n    modal.classList.add(program.NAME + '-modal')\r\n    modalElement.appendChild(modal)\r\n\r\n    const modalContent = document.createElement('div')\r\n    modalContent.classList.add(program.NAME + '-modal-content')\r\n    modal.appendChild(modalContent)\r\n\r\n    const modalHeader = document.createElement('div')\r\n    modalHeader.classList.add(program.NAME + '-modal-header')\r\n    if (this.headingStyle.length > 0) {\r\n      modalHeader.setAttribute('style', this.headingStyle)\r\n    }\r\n    modalContent.appendChild(modalHeader)\r\n\r\n    this.heading.forEach(heading => {\r\n      if (typeof heading === 'string' && !/<\\/?[a-z][\\s\\S]*>/i.test(heading)) {\r\n        const modalTitle = document.createElement('h5')\r\n        modalTitle.innerHTML = heading\r\n        modalHeader.appendChild(modalTitle)\r\n      } else {\r\n        if (/<\\/?[a-z][\\s\\S]*>/i.test(heading as string)) {\r\n          let i\r\n          let a = document.createElement('div')\r\n          let b = document.createDocumentFragment()\r\n          a.innerHTML = heading as string\r\n          while (i = a.firstChild) {\r\n            b.appendChild(i)\r\n          }\r\n          modalHeader.appendChild(b)\r\n        } else {\r\n          modalHeader.appendChild(heading as HTMLElement)\r\n        }\r\n      }\r\n    })\r\n\r\n    const modalBody = document.createElement('div')\r\n    modalBody.classList.add(program.NAME + '-modal-body')\r\n    if (this.bodyStyle.length > 0) {\r\n      modalBody.setAttribute('style', this.bodyStyle)\r\n    }\r\n    modalContent.appendChild(modalBody)\r\n\r\n    if (this.imageURL.length > 0) {\r\n      const imageWrapper = document.createElement('div')\r\n      modalContent.appendChild(imageWrapper)\r\n\r\n      const image = document.createElement('img')\r\n      image.setAttribute('height', '76px')\r\n      image.setAttribute('width', '76px')\r\n      image.style.margin = 'auto'\r\n      image.style.paddingBottom = '20px'\r\n      image.setAttribute('src', this.imageURL)\r\n      imageWrapper.appendChild(image)\r\n    }\r\n\r\n    this.body.forEach(content => {\r\n      if (typeof content === 'string' && !/<\\/?[a-z][\\s\\S]*>/i.test(content)) {\r\n        const modalText = document.createElement('p')\r\n        modalText.innerText = content\r\n        modalBody.appendChild(modalText)\r\n      } else {\r\n        if (/<\\/?[a-z][\\s\\S]*>/i.test(content as string)) {\r\n          let i\r\n          let a = document.createElement('div')\r\n          let b = document.createDocumentFragment()\r\n          a.innerHTML = content as string\r\n          while (i = a.firstChild) {\r\n            b.appendChild(i)\r\n          }\r\n          modalBody.appendChild(b)\r\n        } else {\r\n          modalBody.appendChild(content as HTMLElement)\r\n        }\r\n      }\r\n    })\r\n\r\n    if (this.buttonList.length > 0) {\r\n      const modalFooter = document.createElement('div')\r\n      modalFooter.classList.add(program.NAME + '-modal-footer')\r\n      modalContent.appendChild(modalFooter)\r\n\r\n      this.buttonList.forEach((button: ModalButton) => {\r\n        const modalButton = document.createElement('button')\r\n        modalButton.classList.add(program.NAME + '-modal-button')\r\n        modalButton.innerText = button.text\r\n\r\n        if (button.active) {\r\n          modalButton.classList.add('active')\r\n        }\r\n\r\n        modalButton.onclick = () => {\r\n          if (button && button.callback) {\r\n            button.callback()\r\n          }\r\n\r\n          this.close.bind(this)()\r\n        }\r\n        modalFooter.appendChild(modalButton)\r\n      })\r\n    } else {\r\n      modalContent.style.paddingBottom = '4px;'\r\n    }\r\n\r\n    return modalElement\r\n  }\r\n\r\n  public async open(): Promise<void> {\r\n    if (this.modal) {\r\n      await this.close()\r\n    }\r\n\r\n    this.modal = this.createModal()\r\n    document.body.appendChild(this.modal)\r\n    this.modal.classList.add(program.NAME + '-modal-visible')\r\n    setTimeout(() => {\r\n      this.modal!.classList.add(program.NAME + '-modal-show')\r\n    })\r\n\r\n    // Re-trigger the callback function if it exists\r\n    if (this?.callback) {\r\n      this.callback(this, this.modal!)\r\n    }\r\n  }\r\n\r\n  public async close(): Promise<void> {\r\n    if (!this.modal) {\r\n      return\r\n    }\r\n\r\n    this.modal.classList.remove(program.NAME + '-modal-show')\r\n    await sleep(100)\r\n    this.modal.classList.remove(program.NAME + '-modal-visible')\r\n    this.modal.parentNode.removeChild(this.modal)\r\n    this.modal = null\r\n  }\r\n\r\n  public async refresh(): Promise<void> {\r\n    if (this.modal) {\r\n      this.modal.parentNode.removeChild(this.modal)\r\n      this.modal = null\r\n    }\r\n    await this.open()\r\n\r\n    // Re-trigger the callback function if it exists\r\n    if (this?.callback) {\r\n      this.callback(this, this.modal!.querySelector('.' + program.NAME + '-modal-body')!)\r\n    }\r\n  }\r\n}","import { program } from \"..\"\r\nimport localization from \"../localization\"\r\n\r\nlet shortLang = navigator.language\r\nif (shortLang.indexOf('-') !== -1) {\r\n    shortLang = shortLang.split('-')[0]\r\n}\r\nif (shortLang.indexOf('_') !== -1) {\r\n    shortLang = shortLang.split('_')[0]\r\n}\r\n\r\nconst LANGS_NORMALIZE = {\r\n    'de': 'de-DE',\r\n    'en': 'en-US',\r\n    'es': 'es-AR',\r\n    'pt': 'pt-BR'\r\n}\r\n\r\nconst LANG_DEFAULT = LANGS_NORMALIZE[shortLang]\r\n\r\n/**\r\n * @name: localize! function to return localized strings in localization\r\n * @param: str {string} [required] str of language\r\n * @param: lang {string} [default navigator language]\r\n * @return str in language selected\r\n *\r\n */\r\nfunction localize(str: string, lang: string = LANG_DEFAULT): string {\r\n    try {\r\n        // eslint-disable-next-line no-prototype-builtins\r\n        if (!localization.langs.hasOwnProperty(lang)) {\r\n            lang = 'en-US' // default lang\r\n        }\r\n        if (localization.langs[lang][str]) {\r\n            return localization.langs[lang][str]\r\n        }\r\n\r\n        return ''\r\n    } catch (e) {\r\n        console.error(`[${program.NAME}]LOC error:`, e)\r\n        return `ops, an error ocurred in localization system. Enter in https://github.com/ThinkBIG-Company/${program.NAME}/issues/new and open an issue with this code: 'LOC_dont_found_str_neither_default:[${lang}->${str}]'\r\n    for more information open the console`\r\n    }\r\n}\r\n\r\nconsole.info(localize('helpers.localize_defaultlang').replace('${LANG_DEFAULT}', LANG_DEFAULT))\r\n\r\nexport default localize","import { Program } from \"../App\"\r\nimport { MediaType } from \"../model/mediaType\"\r\nimport localize from \"./localize\"\r\n\r\nconst mediaInfoCache: Map<string, any> = new Map() // key: media id, value: info json\r\nconst mediaIdCache: Map<string, string> = new Map() // key: post id, value: media id\r\n\r\nasync function fetchVideoURL(articleNode: HTMLElement, videoElem: HTMLVideoElement) {\r\n    const poster = videoElem.getAttribute(\"poster\")\r\n    const timeNodes = articleNode.querySelectorAll(\"time\")\r\n    const posterUrl = (timeNodes[timeNodes.length - 1].parentNode!.parentNode as any).href\r\n    const posterPattern = /\\/([^\\/?]*)\\?/\r\n    const posterMatch = poster?.match(posterPattern)\r\n    const postFileName = posterMatch?.[1]\r\n    const resp = await fetch(posterUrl)\r\n    const content = await resp.text()\r\n    const pattern = new RegExp(`${postFileName}.*?video_versions.*?url\":(\"[^\"]*\")`, \"s\")\r\n    const match = content.match(pattern)\r\n    let videoUrl = JSON.parse(match?.[1] ?? \"\")\r\n    videoUrl = videoUrl.replace(/^(?:https?:\\/\\/)?(?:[^@\\/\\n]+@)?(?:www\\.)?([^:\\/?\\n]+)/g, \"https://scontent.cdninstagram.com\")\r\n    videoElem.setAttribute(\"videoURL\", videoUrl)\r\n    return videoUrl\r\n}\r\n\r\nconst findAppId = () => {\r\n    const appIdPattern = /\"X-IG-App-ID\":\"([\\d]+)\"/\r\n    const bodyScripts: NodeListOf<HTMLScriptElement> = document.querySelectorAll(\"body > script\")\r\n    for (let i = 0; i < bodyScripts.length; ++i) {\r\n        const match = bodyScripts[i].text.match(appIdPattern)\r\n        if (match) return match[1]\r\n    }\r\n    return null\r\n}\r\n\r\nfunction findPostId(articleNode: HTMLElement) {\r\n    const pathname = window.location.pathname\r\n    if (pathname.startsWith(\"/reels/\")) {\r\n        return pathname.split(\"/\")[2]\r\n    } else if (pathname.startsWith(\"/stories/\")) {\r\n        return pathname.split(\"/\")[3]\r\n    } else if (pathname.startsWith(\"/reel/\")) {\r\n        return pathname.split(\"/\")[2]\r\n    }\r\n    const postIdPattern = /^\\/p\\/([^/]+)\\//\r\n    const aNodes = articleNode.querySelectorAll(\"a\")\r\n    for (let i = 0; i < aNodes.length; ++i) {\r\n        const link = aNodes[i].getAttribute(\"href\")\r\n        if (link) {\r\n            const match = link.match(postIdPattern)\r\n            if (match) return match[1]\r\n        }\r\n    }\r\n    return null\r\n}\r\n\r\nconst findMediaId = async (postId: string) => {\r\n    const mediaIdPattern = /instagram:\\/\\/media\\?id=(\\d+)|[\"' ]media_id[\"' ]:[\"' ](\\d+)[\"' ]/\r\n    const match = window.location.href.match(/www.instagram.com\\/stories\\/[^\\/]+\\/(\\d+)/)\r\n    if (match) return match[1]\r\n    if (!mediaIdCache.has(postId)) {\r\n        const postUrl = `https://www.instagram.com/p/${postId}/`\r\n        const resp = await fetch(postUrl)\r\n        const text = await resp.text()\r\n        const idMatch = text.match(mediaIdPattern)\r\n        if (!idMatch) return null\r\n        let mediaId = null\r\n        for (let i = 0; i < idMatch.length; ++i) {\r\n            if (idMatch[i]) mediaId = idMatch[i]\r\n        }\r\n        if (!mediaId) return null\r\n        mediaIdCache.set(postId, mediaId)\r\n    }\r\n    return mediaIdCache.get(postId)\r\n}\r\n\r\nconst getImgOrVedioUrl = (item: Record<string, any>) => {\r\n    if (\"video_versions\" in item) {\r\n        return item.video_versions[0].url\r\n    } else {\r\n        return item.image_versions2.candidates[0].url\r\n    }\r\n}\r\n\r\nconst getVideoSrc = async (articleNode: HTMLElement, videoElem: HTMLVideoElement) => {\r\n    let url = videoElem.getAttribute(\"src\")\r\n    if (videoElem.hasAttribute(\"videoURL\")) {\r\n        url = videoElem.getAttribute(\"videoURL\")\r\n    } else if (url === null || url.includes(\"blob\")) {\r\n        url = await fetchVideoURL(articleNode, videoElem)\r\n    }\r\n    return url\r\n}\r\n\r\nexport async function generateModalBody(el: any, program: Program) {\r\n    let found = false\r\n\r\n    let mediaType: MediaType = MediaType.UNDEFINED\r\n\r\n    let mediaInfo: any | null = null\r\n    mediaInfo = await getMediaFromInfoApi(el)\r\n\r\n    let modalBody = \"\"\r\n    let selectedIndex: number = 0\r\n\r\n    let userName = undefined\r\n    if (mediaInfo && mediaInfo.user && mediaInfo.user.username) {\r\n        userName = mediaInfo.user.username\r\n    } else {\r\n        console.log(\"Failed to fetch user information\")\r\n    }\r\n\r\n    let url: string | null = null\r\n\r\n    // Check if is an ad\r\n    const storedSetting1Checkbox = localStorage.getItem(program.NAME + \"_setting1_checkbox\") || \"false\"\r\n    if (storedSetting1Checkbox !== null && storedSetting1Checkbox !== undefined && storedSetting1Checkbox === \"false\" && mediaInfo.product_type == \"ad\") {\r\n        mediaType = MediaType.Ad\r\n        return { found, mediaType, mediaInfo, modalBody, selectedIndex, userName }\r\n    }\r\n\r\n    const mediaPostedAtDateObj = new Date(mediaInfo.taken_at * 1000)\r\n\r\n    let formattedFilename = \"{Username}__{Year}-{Month}-{Day}--{Hour}-{Minute}\"\r\n    const storedSetting1Input = localStorage.getItem(program.NAME + \"_setting1_input\") || formattedFilename\r\n    if (storedSetting1Input !== null && storedSetting1Input !== undefined) {\r\n        const fRegexPlaceholders = {\r\n            Minute: mediaPostedAtDateObj.getMinutes().toString().padStart(2, \"0\"),\r\n            Hour: mediaPostedAtDateObj.getHours().toString().padStart(2, \"0\"),\r\n            Day: mediaPostedAtDateObj.getDate().toString().padStart(2, \"0\"),\r\n            Month: (mediaPostedAtDateObj.getMonth() + 1).toString().padStart(2, \"0\"),\r\n            Year: mediaPostedAtDateObj.getFullYear().toString(),\r\n            Username: userName\r\n        }\r\n        formattedFilename = userFilenameFormatter(storedSetting1Input, fRegexPlaceholders)\r\n    }\r\n\r\n    let openInNewTab = false\r\n    const storedSetting3Checkbox = localStorage.getItem(program.NAME + \"_setting3_checkbox\") || \"false\"\r\n    if (storedSetting3Checkbox !== null && storedSetting3Checkbox !== undefined) {\r\n        openInNewTab = storedSetting3Checkbox === \"true\"\r\n    }\r\n\r\n    if (\"carousel_media\" in mediaInfo) {\r\n        found = true\r\n        mediaType = MediaType.Carousel\r\n\r\n        const isPostView = window.location.pathname.startsWith(\"/p/\")\r\n        let dotsList: any\r\n        if (isPostView) {\r\n            dotsList = el.querySelectorAll(`:scope > div > div > div > div:nth-child(2)>div`)\r\n        } else {\r\n            dotsList = el.querySelectorAll(`:scope > div > div:nth-child(2) > div >div>div> div>div:nth-child(2)>div`)\r\n        }\r\n\r\n        selectedIndex = [...dotsList].findIndex((i) => i.classList.length === 2)\r\n\r\n        modalBody += `<div class=\"slider-container\"><div class=\"slider\">`\r\n\r\n        for (let sC = 0; sC < mediaInfo?.carousel_media?.length; sC++) {\r\n            const scMedia = mediaInfo.carousel_media[sC]\r\n\r\n            if (typeof scMedia.video_dash_manifest !== \"undefined\" && scMedia.video_dash_manifest !== null) {\r\n                url = getImgOrVedioUrl(scMedia)\r\n                if (url === null) {\r\n                    const videoElem: HTMLVideoElement | null = el.querySelector(\"article  div > video\")\r\n                    url = await getVideoSrc(el, videoElem)\r\n                }\r\n\r\n                modalBody += `<div class=\"slide\"><video style=\"background:black;\" height=\"450\" src=\"${url}\" controls=\"controls\" preload=\"metadata\"></video>`\r\n                // Add download button\r\n                if (openInNewTab) {\r\n                    modalBody += `<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"${url}\" style=\"width:inherit;font-size:20px;font-weight:600;margin-top:-4px;\" class=\"${program.NAME}-modal-db\">${localize(\"index@download\")}</a>`\r\n                } else {\r\n                    modalBody += `<a href=\"https://instantgram.1337.pictures/download.php?data=${btoa(url)}:${btoa(formattedFilename + \"_\" + Number(sC + 1) + \".mp4\")}\" style=\"width:inherit;font-size:20px;font-weight:600;margin-top:-4px;\" class=\"${program.NAME}-modal-db\">${localize(\"index@download\")}</a>`\r\n                }\r\n\r\n                modalBody += `</div>`\r\n            } else {\r\n                url = getImgOrVedioUrl(scMedia)\r\n                if (url === null) {\r\n                    const imgElem = el.querySelector(\"article div[role] div > img\")\r\n                    if (imgElem) {\r\n                        // media type is image\r\n                        url = imgElem.getAttribute(\"src\")\r\n                    } else {\r\n                        console.log(\"Err: not find media at handle post single\")\r\n                    }\r\n                }\r\n\r\n                modalBody += `<div class=\"slide\"><img src=\"${url}\" />`\r\n                // Add download button\r\n                if (openInNewTab) {\r\n                    modalBody += `<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"${url}\" style=\"width:inherit;font-size:20px;font-weight:600;margin-top:-4px;\" class=\"${program.NAME}-modal-db\">${localize(\"index@download\")}</a>`\r\n                } else {\r\n                    modalBody += `<a href=\"https://instantgram.1337.pictures/download.php?data=${btoa(url)}:${btoa(formattedFilename + \"_\" + Number(sC + 1) + \".jpg\")}\" style=\"width:inherit;font-size:20px;font-weight:600;margin-top:-4px;\" class=\"${program.NAME}-modal-db\">${localize(\"index@download\")}</a>`\r\n                }\r\n\r\n                modalBody += `</div>`\r\n            }\r\n        }\r\n\r\n        modalBody += `</div><div class=\"slider-controls\"></div></div>`\r\n    } else {\r\n        // Single video\r\n        if (typeof mediaInfo.video_dash_manifest !== \"undefined\" && mediaInfo.video_dash_manifest !== null) {\r\n            found = true\r\n            mediaType = MediaType.Video\r\n\r\n            url = getImgOrVedioUrl(mediaInfo)\r\n            if (url === null) {\r\n                const videoElem: HTMLVideoElement | null = el.querySelector(\"article  div > video\")\r\n                url = await getVideoSrc(el, videoElem)\r\n            }\r\n\r\n            modalBody += `<video style=\"background:black;\" width=\"500\" height=\"450\" src=\"${url}\" controls=\"controls\" preload=\"metadata\"></video>`\r\n            // Add download button\r\n            if (openInNewTab) {\r\n                modalBody += `<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"${url}\" style=\"width:inherit;font-size:20px;font-weight:600;margin-top:-4px;\" class=\"${program.NAME}-modal-db\">${localize(\"index@download\")}</a>`\r\n            } else {\r\n                modalBody += `<a href=\"https://instantgram.1337.pictures/download.php?data=${btoa(url)}:${btoa(formattedFilename + \".mp4\")}\" style=\"width:inherit;font-size:20px;font-weight:600;margin-top:-4px;\" class=\"${program.NAME}-modal-db\">${localize(\"index@download\")}</a>`\r\n            }\r\n            // Single image\r\n        } else {\r\n            found = true\r\n            mediaType = MediaType.Image\r\n\r\n            url = getImgOrVedioUrl(mediaInfo)\r\n            if (url === null) {\r\n                const imgElem = el.querySelector(\"article div[role] div > img\")\r\n                if (imgElem) {\r\n                    // media type is image\r\n                    url = imgElem.getAttribute(\"src\")\r\n                } else {\r\n                    console.log(\"Err: not find media at handle post single\")\r\n                }\r\n            }\r\n\r\n            modalBody += `<img width=\"500\" height=\"450\" src=\"${url}\" />`\r\n            // Add download button\r\n            if (openInNewTab) {\r\n                modalBody += `<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"${url}\" style=\"width:inherit;font-size:20px;font-weight:600;margin-top:-4px;\" class=\"${program.NAME}-modal-db\">${localize(\"index@download\")}</a>`\r\n            } else {\r\n                modalBody += `<a href=\"https://instantgram.1337.pictures/download.php?data=${btoa(url)}:${btoa(formattedFilename + \".jpg\")}\" style=\"width:inherit;font-size:20px;font-weight:600;margin-top:-4px;\" class=\"${program.NAME}-modal-db\">${localize(\"index@download\")}</a>`\r\n            }\r\n        }\r\n    }\r\n\r\n    return { found, mediaType, mediaInfo, modalBody, selectedIndex, userName }\r\n}\r\n\r\nexport function getElementInViewPercentage(el: Element): any {\r\n    let viewport: any\r\n    if (window !== null && window !== undefined) {\r\n        viewport = {\r\n            top: window.pageYOffset,\r\n            bottom: window.pageYOffset + window.innerHeight\r\n        }\r\n    } else {\r\n        viewport = document.documentElement\r\n    }\r\n\r\n    const elementBoundingRect = el.getBoundingClientRect()\r\n    const elementPos = {\r\n        top: elementBoundingRect.y + window.pageYOffset,\r\n        bottom: elementBoundingRect.y + elementBoundingRect.height + window.pageYOffset\r\n    }\r\n\r\n    if (viewport.top > elementPos.bottom || viewport.bottom < elementPos.top) {\r\n        return 0\r\n    }\r\n\r\n    // Element is fully within viewport\r\n    if (viewport.top < elementPos.top && viewport.bottom > elementPos.bottom) {\r\n        return 100\r\n    }\r\n\r\n    // Element is bigger than the viewport\r\n    if (elementPos.top < viewport.top && elementPos.bottom > viewport.bottom) {\r\n        return 100\r\n    }\r\n\r\n    const elementHeight = elementBoundingRect.height\r\n    let elementHeightInView = elementHeight\r\n\r\n    if (elementPos.top < viewport.top) {\r\n        elementHeightInView = elementHeight - (window.pageYOffset - elementPos.top)\r\n    }\r\n\r\n    if (elementPos.bottom > viewport.bottom) {\r\n        elementHeightInView = elementHeightInView - (elementPos.bottom - viewport.bottom)\r\n    }\r\n\r\n    const percentageInView = (elementHeightInView / window.innerHeight) * 100\r\n\r\n    return Math.round(percentageInView)\r\n}\r\n\r\nexport const getMediaFromInfoApi = async (articleNode: HTMLElement): Promise<Array<any> | null> => {\r\n    try {\r\n        const appId = findAppId()\r\n        if (!appId) {\r\n            console.log(\"Cannot find appid\")\r\n            return null\r\n        }\r\n        const postId = findPostId(articleNode)\r\n        if (!postId) {\r\n            console.log(\"Cannot find post id\")\r\n            return null\r\n        }\r\n        const mediaId = await findMediaId(postId)\r\n        if (!mediaId) {\r\n            console.log(\"Cannot find media id\")\r\n            return null\r\n        }\r\n        if (!mediaInfoCache.has(mediaId)) {\r\n            const url = \"https://i.instagram.com/api/v1/media/\" + mediaId + \"/info/\"\r\n            const resp = await fetch(url, {\r\n                method: \"GET\",\r\n                headers: {\r\n                    Accept: \"*/*\",\r\n                    \"X-IG-App-ID\": appId,\r\n                },\r\n                credentials: \"include\",\r\n                mode: \"cors\",\r\n            })\r\n\r\n            if (resp.status !== 200) {\r\n                console.log(`Fetch info API failed with status code: ${resp.status}`)\r\n                return null\r\n            }\r\n            const respJson = await resp.json()\r\n            mediaInfoCache.set(mediaId, respJson)\r\n        }\r\n        const infoJson = mediaInfoCache.get(mediaId)\r\n        return infoJson.items[0]\r\n    } catch (e: any) {\r\n        console.log(`Uncatched in getUrlFromInfoApi(): ${e}\\n${e.stack}`)\r\n        return null\r\n    }\r\n}\r\n\r\nexport const getUserFromInfoApi = async (userId: any): Promise<any | null> => {\r\n    try {\r\n        const appId = findAppId()\r\n        if (!appId) {\r\n            console.log(\"Cannot find appid\")\r\n            return null\r\n        }\r\n\r\n        const url = \"https://i.instagram.com/api/v1/users/\" + userId + \"/info/\"\r\n        const resp = await fetch(url, {\r\n            method: \"GET\",\r\n            headers: {\r\n                Accept: \"*/*\",\r\n                \"X-IG-App-ID\": appId,\r\n            },\r\n            credentials: \"include\",\r\n            mode: \"cors\",\r\n        })\r\n\r\n        if (resp.status !== 200) {\r\n            console.log(`Fetch info API failed with status code: ${resp.status}`)\r\n            return null\r\n        }\r\n        const infoJson = await resp.json()\r\n        return infoJson\r\n    } catch (e: any) {\r\n        console.log(`Uncatched in getUrlFromInfoApi(): ${e}\\n${e.stack}`)\r\n        return null\r\n    }\r\n}\r\n\r\nexport const getUserInfoFromWebProfileApi = async (userName: any): Promise<any | null> => {\r\n    try {\r\n        const appId = findAppId()\r\n        if (!appId) {\r\n            console.log(\"Cannot find appid\")\r\n            return null\r\n        }\r\n\r\n        const url = \"https://i.instagram.com/api/v1/users/web_profile_info/?username=\" + userName\r\n        const resp = await fetch(url, {\r\n            method: \"GET\",\r\n            headers: {\r\n                Accept: \"*/*\",\r\n                \"X-IG-App-ID\": appId,\r\n            },\r\n            credentials: \"include\",\r\n            mode: \"cors\",\r\n        })\r\n\r\n        if (resp.status !== 200) {\r\n            console.log(`Fetch info API failed with status code: ${resp.status}`)\r\n            return null\r\n        }\r\n        const infoJson = await resp.json()\r\n        return infoJson\r\n    } catch (e: any) {\r\n        console.log(`Uncatched in getUrlFromInfoApi(): ${e}\\n${e.stack}`)\r\n        return null\r\n    }\r\n}\r\n\r\nexport function removeStyleTagsWithIDs(idsToRemove) {\r\n    const styleTags = document.querySelectorAll(\"style[id]\")\r\n    styleTags.forEach(styleTag => {\r\n        if (idsToRemove.includes(styleTag.id)) {\r\n            styleTag.parentNode.removeChild(styleTag)\r\n        }\r\n    })\r\n}\r\n\r\nexport function sleep(ms: number): Promise<void> {\r\n    return new Promise(function (resolve) { setTimeout(resolve, ms) })\r\n}\r\n\r\nexport function userFilenameFormatter(filename: string, placeholders: Record<string, string>): string {\r\n    // Replace placeholders with corresponding values\r\n    for (const placeholder in placeholders) {\r\n        const regex = new RegExp(`{${placeholder}}`, \"g\")\r\n        filename = filename.replace(regex, placeholders[placeholder])\r\n    }\r\n\r\n    // Replace spaces with dashes (-)\r\n    filename = filename.replace(/\\s+/g, \"-\")\r\n\r\n    // Remove any special characters except dashes, underscores, and dots\r\n    filename = filename.replace(/[^\\w-.]/g, \"\")\r\n\r\n    return filename\r\n}","import { Program } from \"./App\"\r\nimport { MediaScanner } from \"./modules/MediaScanner\"\r\nimport { Modal } from \"./components/Modal\"\r\nimport { detect } from \"detect-browser\"\r\nimport update from \"./modules/Update\"\r\nimport localize from \"./helpers/localize\"\r\nimport { getUserFromInfoApi, getUserInfoFromWebProfileApi, removeStyleTagsWithIDs } from \"./helpers/utils\"\r\nimport { MediaType } from \"./model/mediaType\"\r\n\r\nconsole.clear()\r\n\r\nconst APP_NAME = \"instantgram_light\"\r\n// Init browser detection\r\nconst browser = detect()\r\n\r\nexport const program: Program = {\r\n    NAME: APP_NAME,\r\n    VERSION: process.env.VERSION as string,\r\n    browser: browser,\r\n    hostname: window.location.hostname,\r\n    path: window.location.pathname,\r\n    regexHostname: /^instagram\\.com/,\r\n    regexRootPath: /^\\/+$/,\r\n    regexProfilePath: /^\\/([A-Za-z0-9._]{2,3})+\\/$/,\r\n    regexPostPath: /^\\/p\\//,\r\n    regexReelURI: /reel\\/(.*)+/,\r\n    regexReelsURI: /reels\\/(.*)+/,\r\n    regexStoriesURI: /stories\\/(.*)+/,\r\n    foundByModule: null,\r\n    foundMediaObj: undefined\r\n}\r\n\r\nif (process.env.DEV) {\r\n    console.info([\"Developer Mode Caution!\", program])\r\n    if (program.browser) {\r\n        console.info([\"Browser Name\", program.browser.name])\r\n        console.info([\"Browser Version\", program.browser.version])\r\n        console.info([\"Browser OS\", program.browser.os])\r\n    }\r\n}\r\n\r\nfunction playCurrentStory(el: any) {\r\n    // Trigger a click event on the play button if it exists\r\n    let svgElement = el.querySelector(\"svg[viewBox='0 0 24 24']\")\r\n    if (svgElement !== null) {\r\n        if (typeof (<HTMLElement>svgElement).click === \"function\") {\r\n            (<HTMLElement>svgElement).click()\r\n        } else {\r\n            // Alternative approach for older browsers\r\n            const clickEvent = new MouseEvent(\"click\", {\r\n                view: window,\r\n                bubbles: true,\r\n                cancelable: true,\r\n            })\r\n            svgElement.dispatchEvent(clickEvent)\r\n        }\r\n    }\r\n}\r\n\r\nfunction initSaveSettings(el: any) {\r\n    for (let i = 1; i <= 3; i++) {\r\n        const settingName = `setting${i}`\r\n        // For checkboxes\r\n        const checkbox = el.querySelector(`#${settingName}-checkbox`) as HTMLInputElement\r\n        if (checkbox) {\r\n            const storedData = localStorage.getItem(program.NAME + '_' + settingName + '_checkbox')\r\n            checkbox.checked = storedData === 'true'\r\n\r\n            checkbox.addEventListener(\"change\", () => {\r\n                const storedData = localStorage.getItem(program.NAME + '_' + settingName + '_checkbox')\r\n                const checked = String(checkbox.checked)\r\n\r\n                // Save merged settings to LocalStorage\r\n                localStorage.setItem(program.NAME + '_' + settingName + '_checkbox', checked)\r\n            })\r\n        }\r\n\r\n        // For input text\r\n        const inputText = el.querySelector(`#${settingName}-input`) as HTMLInputElement\r\n        if (inputText) {\r\n            const storedData = localStorage.getItem(program.NAME + '_' + settingName + '_input')\r\n            inputText.value = storedData || \"{Username}__{Year}-{Month}-{Day}--{Hour}-{Minute}\"\r\n\r\n            const saveFilenameFormat = el.querySelector(\"#saveFilenameFormat\")\r\n            saveFilenameFormat.addEventListener(\"click\", (event: { preventDefault: () => void }) => {\r\n                event.preventDefault()\r\n\r\n                const storedData = localStorage.getItem(program.NAME + '_' + settingName + '_input')\r\n                const input = String(inputText.value)\r\n\r\n                // Save merged settings to LocalStorage\r\n                localStorage.setItem(program.NAME + '_' + settingName + '_input', input)\r\n\r\n                saveFilenameFormat.textContent = localize(\"index@saved\")\r\n                saveFilenameFormat.style.color = \"white\"\r\n                saveFilenameFormat.style.backgroundColor = \"green\"\r\n                setTimeout(() => {\r\n                    saveFilenameFormat.textContent = localize(\"index@save\")\r\n                    saveFilenameFormat.style.color = \"black\"\r\n                    saveFilenameFormat.style.backgroundColor = \"buttonface\"\r\n                }, 1000)\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nasync function handleProfilePage() {\r\n    try {\r\n        let userInfo: any | null = null\r\n        let userId: any | null = null\r\n\r\n        const regex = /instagram.com\\/([A-Za-z0-9_.]+)/\r\n        const match = window.location.href.match(regex)\r\n        if (match) {\r\n            const username = match[1]\r\n\r\n            userInfo = await getUserInfoFromWebProfileApi(username)\r\n            userId = userInfo.data.user.id\r\n        } else {\r\n            console.log(\"Could not get the username from insta url.\")\r\n        }\r\n\r\n        userInfo = await getUserFromInfoApi(userId)\r\n        if (userInfo) {\r\n            let openInNewTab = false\r\n            const storedSetting3Checkbox = localStorage.getItem(program.NAME + \"_setting3_checkbox\") || \"false\"\r\n            if (storedSetting3Checkbox !== null && storedSetting3Checkbox !== undefined) {\r\n                openInNewTab = storedSetting3Checkbox === \"true\"\r\n            }\r\n\r\n            const url = userInfo.user.hd_profile_pic_url_info.url\r\n            const username = userInfo.user.username\r\n\r\n            let modalBody = \"\"\r\n            modalBody += `<div class=\"slide\"><img src=\"${url}\" />`\r\n            // Add download button\r\n            if (openInNewTab) {\r\n                modalBody += `<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"${url}\" style=\"width:inherit;font-size:20px;font-weight:600;margin-top:-4px;\" class=\"${program.NAME}-modal-db\">${localize(\"index@download\")}</a>`\r\n            } else {\r\n                modalBody += `<a href=\"https://instantgram.1337.pictures/download.php?data=${btoa(url)}:${btoa(username + \".jpg\")}\" style=\"width:inherit;font-size:20px;font-weight:600;margin-top:-4px;\" class=\"${program.NAME}-modal-db\">${localize(\"index@download\")}</a>`\r\n            }\r\n\r\n            modalBody += `</div>`\r\n\r\n            program.foundMediaObj = {\r\n                found: true,\r\n                mediaType: MediaType.Image,\r\n                mediaInfo: undefined,\r\n                modalBody: modalBody,\r\n                selectedIndex: undefined,\r\n                userName: username\r\n            }\r\n            handleMediaFound(document, username)\r\n        } else {\r\n            console.log(\"Failed to fetch user information\")\r\n        }\r\n    } catch (e: any) {\r\n        console.log(`Some error in handleProfilePage: ${e}\\n${e.stack}`)\r\n        return null\r\n    }\r\n}\r\n\r\nfunction handleMediaNotFound() {\r\n    if (!program.foundByModule) {\r\n        new Modal({\r\n            heading: [\r\n                `<h5>\r\n            <span class=\"header-text-left\">[${program.NAME}]</span>\r\n            <span class=\"header-text-right\" style=\"margin-right: 0\">v${program.VERSION}</span>\r\n          </h5>`\r\n            ],\r\n            body: [localize(\"index@alert_dontFound\")],\r\n            bodyStyle: \"text-align:center\",\r\n            buttonList: [{ active: true, text: \"Ok\" }]\r\n        }).open()\r\n    }\r\n}\r\n\r\nfunction handleMediaFound(document: any, userName: any) {\r\n    new Modal({\r\n        heading: [\r\n            `<h5>\r\n          <span class=\"header-text-middle\">@${userName}\r\n            <button class=\"${program.NAME}-settings\">\r\n              <svg style=\"margin-left: auto; margin-right: auto;\" aria-label=\"Optionen\" class=\"x1lliihq x1n2onr6\" color=\"rgb(255, 255, 255)\" fill=\"rgb(255, 255, 255)\" height=\"24\" role=\"img\" viewBox=\"0 0 24 24\" width=\"24\">\r\n                <title>Optionen</title>\r\n                <circle cx=\"12\" cy=\"12\" fill=\"none\" r=\"8.635\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"></circle>\r\n                <path d=\"M14.232 3.656a1.269 1.269 0 0 1-.796-.66L12.93 2h-1.86l-.505.996a1.269 1.269 0 0 1-.796.66m-.001 16.688a1.269 1.269 0 0 1 .796.66l.505.996h1.862l.505-.996a1.269 1.269 0 0 1 .796-.66M3.656 9.768a1.269 1.269 0 0 1-.66.796L2 11.07v1.862l.996.505a1.269 1.269 0 0 1 .66.796m16.688-.001a1.269 1.269 0 0 1 .66-.796L22 12.93v-1.86l-.996-.505a1.269 1.269 0 0 1-.66-.796M7.678 4.522a1.269 1.269 0 0 1-1.03.096l-1.06-.348L4.27 5.587l.348 1.062a1.269 1.269 0 0 1-.096 1.03m11.8 11.799a1.269 1.269 0 0 1 1.03-.096l1.06.348 1.318-1.317-.348-1.062a1.269 1.269 0 0 1 .096-1.03m-14.956.001a1.269 1.269 0 0 1 .096 1.03l-.348 1.06 1.317 1.318 1.062-.348a1.269 1.269 0 0 1 1.03.096m11.799-11.8a1.269 1.269 0 0 1-.096-1.03l.348-1.06-1.317-1.318-1.062.348a1.269 1.269 0 0 1-1.03-.096\" fill=\"none\" stroke=\"currentColor\" stroke-linejoin=\"round\" stroke-width=\"2\"></path>\r\n              </svg>\r\n            </button>\r\n          </span>\r\n        </h5>`\r\n        ],\r\n        body: [program.foundMediaObj.modalBody],\r\n        bodyStyle: \"padding:0!important;text-align:center\",\r\n        buttonList: [{ active: true, text: localize(\"index@close\") }],\r\n        callback: (_modal, el) => {\r\n            if (el.querySelector(\".slider\") !== null) {\r\n                const slider = (<any>el).querySelector(\".slider\")\r\n                const slides = el.querySelectorAll(\".slide\")\r\n                const sliderControls = el.querySelector(\".slider-controls\")\r\n                let slideIndex = program.foundMediaObj.selectedIndex\r\n\r\n                for (let i = 0; i < slides.length; i++) {\r\n                    const button = document.createElement(\"button\")\r\n                    button.setAttribute(\"data-index\", String(i))\r\n                    button.innerHTML = String(i + 1)\r\n                    button.addEventListener(\"click\", () => {\r\n                        slideIndex = i\r\n                        updateSliderPosition()\r\n                    })\r\n                    sliderControls.appendChild(button)\r\n                }\r\n\r\n                const buttons = el.querySelectorAll(\".slider-controls button\")\r\n\r\n                function updateSliderPosition() {\r\n                    const slideWidth = slides[0].clientWidth\r\n                    const translateX = -slideWidth * slideIndex\r\n                    slider.style.transform = `translateX(${translateX}px)`\r\n                    buttons.forEach((button, index) => {\r\n                        button.classList.toggle(\"active\", index === slideIndex)\r\n                    })\r\n                }\r\n\r\n                buttons[slideIndex].classList.add(\"active\")\r\n                updateSliderPosition()\r\n            }\r\n\r\n            el.querySelector(`.${program.NAME}-settings`).addEventListener(\"click\", () => {\r\n                new Modal({\r\n                    heading: [\r\n                        `<h5>\r\n                <span class=\"header-text-left\">[${program.NAME}]</span>\r\n                <span class=\"header-text-middle\">${localize(\"index#program#modal_settings@title\")}</span>\r\n                <span class=\"header-text-right\" style=\"margin-right: 0\">v${program.VERSION}</span>\r\n              </h5>`\r\n                    ],\r\n                    body: [\r\n                        `<form style=\"padding-top: 25px;padding-bottom: 25px;padding-left: 20px;padding-right: 20px;\">\r\n                <div class=\"container\">\r\n                  <div class=\"row mb-20\"><strong>${localize(\"index#program#modal_settings@settings_attention\")}</strong></div>\r\n                  <div class=\"row\">\r\n                    <div class=\"left\"><strong>${localize(\"index#program#modal_settings@settings_1\")}:</strong></div>\r\n                    <div class=\"right\">\r\n                      <label class=\"slideon\">\r\n                        <input type=\"checkbox\" id=\"setting1-checkbox\">\r\n                        <span class=\"slideon-slider\"></span>\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"left\"><strong>${localize(\"index#program#modal_settings@settings_2\")}:</strong></div>\r\n                    <div class=\"right\">\r\n                      <label class=\"slideon\">\r\n                        <input type=\"checkbox\" id=\"setting2-checkbox\">\r\n                        <span class=\"slideon-slider\"></span>\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"left\"><strong>${localize(\"index#program#modal_settings@settings_3\")}:</strong></div>\r\n                    <div class=\"right\">\r\n                      <label class=\"slideon\">\r\n                        <input type=\"checkbox\" id=\"setting3-checkbox\">\r\n                        <span class=\"slideon-slider\"></span>\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">&nbsp;</div>\r\n                  <div class=\"row\">\r\n                    <div class=\"left\" style=\"text-align: left\">\r\n                      <strong>${localize(\"index#program#modal_settings@settings_4\")}</strong><br>\r\n                      {Username}__{Year}-{Month}-{Day}--{Hour}-{Minute}<br><br>\r\n                      <strong>${localize(\"index#program#modal_settings@settings_4_1\")}</strong>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"row\">\r\n                    <div class=\"left\" style=\"display: contents\">\r\n                      <input type=\"text\" id=\"setting1-input\" value=\"{Username}__{Year}-{Month}-{Day}--{Hour}-{Minute}\">\r\n                      <button type=\"button\" id=\"saveFilenameFormat\">${localize(\"index@save\")}</button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </form>`\r\n                    ],\r\n                    bodyStyle: \"padding:0!important;text-align:center\",\r\n                    buttonList: [{ active: true, text: localize(\"index@close\") }],\r\n                    callback: (_modal, el) => {\r\n                        initSaveSettings(el)\r\n                    }\r\n                }).open()\r\n            })\r\n            el.querySelector(\".\" + program.NAME + \"-modal-footer > .\" + program.NAME + \"-modal-button\").addEventListener(\"click\", () => {\r\n                // Remove previous executed bookmarklet stuff\r\n                const idsToRemove = [\r\n                    program.NAME + '-cssGeneral',\r\n                    program.NAME + '-cssSlideOn',\r\n                    program.NAME + '-cssCarouselSlider'\r\n                ]\r\n                // Call the function to remove <style> tags from the entire DOM\r\n                removeStyleTagsWithIDs(idsToRemove)\r\n            })\r\n        }\r\n    }).open()\r\n}\r\n\r\nfunction handleInstagramSite() {\r\n    new MediaScanner().execute(program, (scannerProgram: Program) => {\r\n        if (process.env.DEV) {\r\n            console.log(\"scannerFound\", scannerProgram.foundMediaObj.found)\r\n            console.log(\"foundByModule\", scannerProgram.foundByModule)\r\n        }\r\n\r\n        if (scannerProgram.foundMediaObj.found) {\r\n            handleMediaFound(document, scannerProgram.foundMediaObj.userName)\r\n        } else {\r\n            if (scannerProgram.foundMediaObj.mediaType == MediaType.Ad) {\r\n                return\r\n            }\r\n\r\n            if (scannerProgram.regexProfilePath.test(scannerProgram.path)) {\r\n                handleProfilePage()\r\n            } else {\r\n                handleMediaNotFound()\r\n            }\r\n        }\r\n    })\r\n\r\n    if (!process.env.DEV) {\r\n        update(program.VERSION)\r\n    }\r\n}\r\n\r\nfunction handleNonInstagramSite() {\r\n    new Modal({\r\n        heading: [\r\n            `<h5>\r\n          <span class=\"header-text-left\">[${program.NAME}]</span>\r\n          <span class=\"header-text-right\" style=\"margin-right: 0\">v${program.VERSION}</span>\r\n        </h5>`\r\n        ],\r\n        body: [localize(\"index@alert_onlyWorks\")],\r\n        bodyStyle: \"text-align:center\",\r\n        buttonList: [{ active: true, text: \"Ok\" }]\r\n    }).open()\r\n}\r\n\r\n/* ===============================\r\n =            Program            =\r\n ===============================*/\r\n// verify if are running on instagram site\r\nif (program.hostname === \"instagram.com\" || program.hostname === \"www.instagram.com\") {\r\n    handleInstagramSite()\r\n} else {\r\n    handleNonInstagramSite()\r\n}\r\n/* =====  End of Program  ======*/","export default {\r\n    'langs': {\r\n        'en-US': {\r\n            'helpers.localize_defaultlang': '[instantgram-light] set language: ${LANG_DEFAULT} \\n For more information about available languages please check http://thinkbig-company.github.io/instantgram',\r\n\r\n            'index@alert_onlyWorks': 'Works only on instagram.com',\r\n            'index@profilepage_downloader_disabled': 'Sorry the ProfilePage downloader is currently disabled because instagram changed their system.\\n\\nMaybe in the future there will be a solution to fix the problem.',\r\n\r\n            'index@alert_dontFound': 'Did you open any Instagram post? Like for example<br/><div style=\"text-align:center\"><a href=\"https://www.instagram.com/p/CIGrv1VMBkS/\" target=\"_blank\" onMouseOver=\"this.style.textDecoration=\\'underline\\'\" onMouseOut=\"this.style.textDecoration=\\'initial\\'\">https://www.instagram.com/p/CIGrv1VMBkS/</a></div>',\r\n\r\n            'index#program#modal_settings@title': 'Settings',\r\n            'index#program#modal_settings@settings_attention': 'Attention: You have to open [instantgram-light] again for your changes to be active!',\r\n            'index#program#modal_settings@settings_1': 'Enable monetized posts<br>(ad blockers must be disabled)',\r\n            'index#program#modal_settings@settings_2': 'Stories pause when opening [instantgram-light]',\r\n            'index#program#modal_settings@settings_3': 'Open download in new tab',\r\n            'index#program#modal_settings@settings_4': 'Change the file name format for downloads.<br/>The default format is as follows.',\r\n            'index#program#modal_settings@settings_4_1': 'You can omit the above placeholders completely or customize them by adding hyphens, underscores, and periods.',\r\n\r\n            'index@download': 'Download',\r\n            'index@save': 'Save',\r\n            'index@saved': 'Saved',\r\n            'index@close': 'Close',\r\n\r\n            'modules.update@consoleWarnOutdatedInfo': '[instantgram-light] is outdated. Please check http://thinkbig-company.github.io/instantgram for available updates.',\r\n            'modules.update@consoleWarnOutdatedInfoVersions': '[instantgram-light] Installed version: ${data.version} | New update: ${data.onlineVersion}',\r\n            'modules.update@determineIfGetUpdateIsNecessary_contacting': '[instantgram-light] is looking for available updates...',\r\n            'modules.update@determineIfGetUpdateIsNecessary_updated': '[instantgram-light] updated your current version.',\r\n            'modules.update@determineIfGetUpdateIsNecessary_@update_available': 'There is a new update available',\r\n            'modules.update@determineIfGetUpdateIsNecessary_@load_update': 'Get update'\r\n        },\r\n        'es-AR': {\r\n            'helpers.localize_defaultlang': '[instantgram-light] establecer idioma: ${LANG_DEFAULT} \\n Para más información sobre los idiomas disponibles, consulte http://thinkbig-company.github.io/instantgram',\r\n\r\n            'index@alert_onlyWorks': 'Sólo funciona en instagram.com',\r\n            'index@profilepage_downloader_disabled': 'Lo siento, la descarga de ProfilePage está deshabilitada actualmente porque Instagram cambió su sistema.\\n\\nTal vez en el futuro haya una solución para solucionar el problema.',\r\n\r\n            'index@alert_dontFound': '¿Has abierto algún post de Instagram? Como por ejemplo<br/><div style=\"text-align:center\"><a href=\"https://www.instagram.com/p/CIGrv1VMBkS/\" target=\"_blank\" onMouseOver=\"this.style.textDecoration=\\'underline\\'\" onMouseOut=\"this.style.textDecoration=\\'initial\\'\">https://www.instagram.com/p/CIGrv1VMBkS/</a></div>',\r\n\r\n            'index#program#modal_settings@title': 'Ajustes',\r\n            'index#program#modal_settings@settings_attention': 'Atención: ¡Tienes que abrir [instantgram-light] nuevamente para que los cambios estén activos!',\r\n            'index#program#modal_settings@settings_1': 'Habilitar publicaciones monetizadas<br>(los bloqueadores de anuncios deben estar deshabilitados)',\r\n            'index#program#modal_settings@settings_2': 'Historias en pausa al abrir [instantgram-light]',\r\n            'index#program#modal_settings@settings_3': 'Abrir la descarga en una nueva pestaña',\r\n            'index#program#modal_settings@settings_4': 'Cambie el formato del nombre de archivo para las descargas.<br/>El formato predeterminado es el siguiente',\r\n            'index#program#modal_settings@settings_4_1': 'Puede omitir por completo los marcadores de posición anteriores o personalizarlos agregando guiones, guiones bajos y puntos.',\r\n\r\n            'index@download': 'Descargar',\r\n            'index@save': 'Ahorrar',\r\n            'index@saved': 'Salvado',\r\n            'index@close': 'Cerca',\r\n\r\n            'modules.update@consoleWarnOutdatedInfo': '[instantgram-light] es obsoleto. Consulte en http://thinkbig-company.github.io/instantgram las actualizaciones disponibles.',\r\n            'modules.update@consoleWarnOutdatedInfoVersions': '[instantgram-light] Versión instalada: ${data.version} | Nueva actualización: ${data.onlineVersion}',\r\n            'modules.update@determineIfGetUpdateIsNecessary_contacting': '[instantgram-light] está buscando actualizaciones disponibles...',\r\n            'modules.update@determineIfGetUpdateIsNecessary_updated': '[instantgram-light] ha actualizado su versión actual.',\r\n            'modules.update@determineIfGetUpdateIsNecessary_@update_available': 'Hay una nueva actualización disponible',\r\n            'modules.update@determineIfGetUpdateIsNecessary_@load_update': 'Obtener información'\r\n        },\r\n        'de-DE': {\r\n            'helpers.localize_defaultlang': 'Ausgewählte Sprache: ${LANG_DEFAULT} \\n Weitere Informationen zu den unterstützten Sprachen findest du auf http://thinkbig-company.github.io/instantgram',\r\n\r\n            'index@alert_onlyWorks': 'Funktioniert nur auf instagram.com',\r\n            'index@profilepage_downloader_disabled': 'Leider ist der ProfilePage-Downloader derzeit deaktiviert, da Instagram sein System geändert hat.\\n\\nVielleicht gibt es in Zukunft eine Lösung für dieses Problem.',\r\n\r\n            'index@alert_dontFound': 'Hast du einen Instagram Post geöffnet? Zum Beispiel<br/><div style=\"text-align:center\"><a href=\"https://www.instagram.com/p/CIGrv1VMBkS/\" target=\"_blank\" onMouseOver=\"this.style.textDecoration=\\'underline\\'\" onMouseOut=\"this.style.textDecoration=\\'initial\\'\">https://www.instagram.com/p/CIGrv1VMBkS/</a></div>',\r\n\r\n            'index#program#modal_settings@title': 'Einstellungen',\r\n            'index#program#modal_settings@settings_attention': 'Achtung: Sie müssen [instantgram-light] erneut öffnen, damit ihre Änderungen aktiv sind!',\r\n            'index#program#modal_settings@settings_1': 'Monetarisierte Beiträge aktivieren<br>(Werbeblocker müssen deaktiviert sein)',\r\n            'index#program#modal_settings@settings_2': 'Stories pausieren beim öffnen von [instantgram-light]',\r\n            'index#program#modal_settings@settings_3': 'Download in neuem Tab öffnen',\r\n            'index#program#modal_settings@settings_4': 'Ändern Sie das Dateinamenformat für Downloads.<br/>Das Standardformat ist wie folgt',\r\n            'index#program#modal_settings@settings_4_1': 'Sie können die obigen Platzhalter komplett weglassen oder sie durch Hinzufügen von Bindestrichen, Unterstrichen und Punkten anpassen.',\r\n\r\n            'index@download': 'Herunterladen',\r\n            'index@save': 'Speichern',\r\n            'index@saved': 'Gespeichert',\r\n            'index@close': 'Schließen',\r\n\r\n            'modules.update@consoleWarnOutdatedInfo': '[instantgram-light] ist veraltet. Bitte besuche die Seite http://thinkbig-company.github.io/instantgram für ein Update.',\r\n            'modules.update@consoleWarnOutdatedInfoVersions': '[instantgram-light] Installierte Version: ${data.version} | Neue Version: ${data.onlineVersion}',\r\n            'modules.update@determineIfGetUpdateIsNecessary_contacting': '[instantgram-light] sucht nach neuen verfügbaren Updates...',\r\n            'modules.update@determineIfGetUpdateIsNecessary_updated': '[instantgram-light] wurde aktualisiert.',\r\n            'modules.update@determineIfGetUpdateIsNecessary_@update_available': 'Es ist ein neues Update verfügbar',\r\n            'modules.update@determineIfGetUpdateIsNecessary_@load_update': 'Update laden'\r\n        },\r\n        'pt-BR': {\r\n            'helpers.localize_defaultlang': '[instantgram-light] idioma configurado: ${LANG_DEFAULT} \\npara mais informações sobre os idiomas suportados, acesse http://thinkbig-company.github.io/instantgram',\r\n\r\n            'index@alert_onlyWorks': '[instantgram-light] somente funciona no instagram.com',\r\n            'index@profilepage_downloader_disabled': 'Lamentamos que o programa de download ProfilePage esteja atualmente desativado porque o programa mudou seu sistema.\\n\\nTalvez, no futuro, haja uma solução para resolver o problema.',\r\n\r\n            'index@alert_dontFound': 'ops, você está em algum post do instagram? ex:<br/><div style=\"text-align:center\"><a href=\"https://www.instagram.com/p/CIGrv1VMBkS/\" target=\"_blank\" onMouseOver=\"this.style.textDecoration=\\'underline\\'\" onMouseOut=\"this.style.textDecoration=\\'initial\\'\">https://www.instagram.com/p/CIGrv1VMBkS/</a></div>',\r\n\r\n            'index#program#modal_settings@title': 'Configurações',\r\n            'index#program#modal_settings@settings_attention': 'Atenção: Você precisa abrir o [instantgram-light] novamente para que suas alterações sejam ativadas!',\r\n            'index#program#modal_settings@settings_1': 'Habilitar postagens monetizadas<br>(os bloqueadores de anúncios devem estar desativados)',\r\n            'index#program#modal_settings@settings_2': 'As histórias fazem uma pausa ao abrir [instantgram-light]',\r\n            'index#program#modal_settings@settings_3': 'Abrir o download em uma nova guia',\r\n            'index#program#modal_settings@settings_4': 'Altere o formato do nome do arquivo para downloads.<br/>O formato padrão é o seguinte',\r\n            'index#program#modal_settings@settings_4_1': 'Você pode omitir completamente os espaços reservados acima ou ajustá-los adicionando hífens, sublinhados e pontos.',\r\n\r\n            'index@download': 'Download',\r\n            'index@save': 'Salvar',\r\n            'index@saved': 'Salvo em',\r\n            'index@close': 'Fechar',\r\n\r\n            'modules.update@consoleWarnOutdatedInfo': '[instantgram-light] está desatualizado. Acesse http://thinkbig-company.github.io/instantgram para atualizar',\r\n            'modules.update@consoleWarnOutdatedInfoVersions': '[instantgram-light] versão local: ${data.version} | nova versão: ${data.onlineVersion}',\r\n            'modules.update@determineIfGetUpdateIsNecessary_contacting': '[instantgram-light] está procurando atualizações...',\r\n            'modules.update@determineIfGetUpdateIsNecessary_updated': '[instantgram-light] informações locais atualizadas',\r\n            'modules.update@determineIfGetUpdateIsNecessary_@update_available': 'Há uma nova atualização disponível',\r\n            'modules.update@determineIfGetUpdateIsNecessary_@load_update': 'Carga de actualização'\r\n        }\r\n    }\r\n}","export enum MediaType {\r\n  Ad = \"AD\",\r\n  Image = \"IMAGE\",\r\n  Video = \"VIDEO\",\r\n  Carousel = \"CAROUSEL\",\r\n  UNDEFINED = \"UNDEFINED\",\r\n}","import { Program } from \"../App\"\r\nimport { Module } from \"./Module\"\r\nimport { getElementInViewPercentage, generateModalBody } from \"../helpers/utils\"\r\n\r\nexport class FeedScanner implements Module {\r\n    public getName(): string {\r\n        return \"FeedScanner\"\r\n    }\r\n\r\n    /** @suppress {uselessCode} */\r\n    public async execute(program: Program, callback?: any): Promise<any> {\r\n        /* =====================================\r\n         =              FeedScanner            =\r\n         ==================================== */\r\n        try {\r\n            // Define default variables\r\n            // All grabed feed posts\r\n            let $articles: Element | HTMLCollectionOf<HTMLElement>\r\n\r\n            // Article\r\n            let $article: any\r\n\r\n            // Scanner begins\r\n            $articles = document.getElementsByTagName(\"article\")\r\n\r\n            let mediaElInfos: any[] = []\r\n            // Find needed post\r\n            for (let i1 = 0; i1 < $articles.length; i1++) {\r\n                let mediaEl = $articles[i1]\r\n\r\n                if (mediaEl != null && typeof mediaEl.getBoundingClientRect() != null) {\r\n                    let elemVisiblePercentage = getElementInViewPercentage(mediaEl)\r\n                    mediaElInfos.push({ i1, mediaEl, elemVisiblePercentage })\r\n                } else {\r\n                    mediaElInfos.push({ i1, mediaEl, elemVisiblePercentage: 0 })\r\n                }\r\n            }\r\n\r\n            let objMax = mediaElInfos.reduce((max, current) => max.elemVisiblePercentage > current.elemVisiblePercentage ? max : current)\r\n            $article = $articles[objMax.i1]\r\n\r\n            if (typeof $article !== 'undefined' || $article !== null || $article !== '') {\r\n                // DON'T MESS WITH ME INSTA!\r\n                // If any adblocker active dont grab it\r\n                if ($article.getBoundingClientRect().height < 40) {\r\n                    return\r\n                }\r\n\r\n                let v = await generateModalBody($article, program)\r\n\r\n                program.foundMediaObj = {\r\n                    found: v.found,\r\n                    mediaType: v.mediaType,\r\n                    mediaInfo: v.mediaInfo,\r\n                    modalBody: v.modalBody,\r\n                    selectedIndex: v.selectedIndex,\r\n                    userName: v.userName\r\n                }\r\n            }\r\n\r\n            callback(program)\r\n        } catch (e) {\r\n            //console.error(this.getName() + \"()\", `[${program.NAME}] ${program.VERSION}`, e)\r\n            console.error(this.getName() + \"()\", e)\r\n            program.foundMediaObj = {\r\n                found: false,\r\n                mediaType: undefined,\r\n                mediaInfo: undefined,\r\n                modalBody: undefined,\r\n                selectedIndex: undefined,\r\n                userName: undefined\r\n            }\r\n            callback(program)\r\n        }\r\n        /* =====  End of FeedScanner ======*/\r\n    }\r\n}","import { Program } from \"../App\"\nimport { Module } from \"./Module\"\nimport { cssCarouselSlider, cssGeneral, cssSlideOn } from \"../components/Interconnect\"\nimport { FeedScanner } from \"./FeedScanner\"\nimport { PostReelScanner } from \"./PostReelScanner\"\nimport { ReelsScanner } from \"./ReelsScanner\"\nimport { StoriesScanner } from \"./StoriesScanner\"\nimport { removeStyleTagsWithIDs } from \"../helpers/utils\"\n\nexport class MediaScanner implements Module {\n    public getName(): string {\n        return \"MediaScanner\"\n    }\n\n    /** @suppress {uselessCode} */\n    public async execute(program: Program, callback?: any): Promise<any> {\n        /* =====================================\n         =         MediaScanner                =\n         ==================================== */\n        try {\n            // Scanner begins\n            // Cancel execution when modal already opened\n            const appRunning = document.querySelector(\"div.\" + program.NAME + \"-modal-overlay.\" + program.NAME + \"-modal-visible.\" + program.NAME + \"-modal-show\")\n            if (appRunning) {\n                let iModal: any = document.querySelector(\".\" + program.NAME + \"-modal\")\n                iModal.style.animation = \"horizontal-shaking 0.25s linear infinite\"\n\n                // Stop shaking\n                setTimeout(function () {\n                    iModal.style.animation = null\n                }, 1000)\n                return\n            }\n            // Remove previous executed bookmarklet stuff\n            const idsToRemove = [\n                program.NAME + '-cssGeneral',\n                program.NAME + '-cssSlideOn',\n                program.NAME + '-cssCarouselSlider'\n            ]\n            // Call the function to remove <style> tags from the entire DOM\n            removeStyleTagsWithIDs(idsToRemove)\n\n            // Create new needed stuff\n            const generalStyle = document.createElement(\"style\")\n            generalStyle.id = program.NAME + \"-cssGeneral\"\n            // Set the innerHTML property to the JavaScript code\n            generalStyle.innerHTML = cssGeneral\n            // Append the script element to the document\n            document.body.appendChild(generalStyle)\n\n            // Switch css\n            const switchStyle = document.createElement(\"style\")\n            switchStyle.id = program.NAME + \"-cssSlideOn\"\n            // Set the innerHTML property to the JavaScript code\n            switchStyle.innerHTML = cssSlideOn\n            // Append the script element to the document\n            document.body.appendChild(switchStyle)\n\n            const carouselSliderStyle = document.createElement(\"style\")\n            carouselSliderStyle.id = program.NAME + \"-cssCarouselSlider\"\n            // Set the innerHTML property to the JavaScript code\n            carouselSliderStyle.innerHTML = cssCarouselSlider\n            // Append the script element to the document\n            document.body.appendChild(carouselSliderStyle)\n\n            // Handle specific modules\n            // Detect profile root path\n            if (program.regexProfilePath.test(program.path)) {\n                program.foundMediaObj = {\n                    found: false,\n                    mediaType: undefined,\n                    mediaInfo: undefined,\n                    modalBody: undefined,\n                    selectedIndex: undefined,\n                    userName: undefined\n                }\n                callback(program)\n                return\n            }\n\n            // Detect story video/image\n            if (program.regexStoriesURI.test(program.path)) {\n                new StoriesScanner().execute(program, function (scannerProgram: Program) {\n                    if (scannerProgram.foundMediaObj.found) {\n                        scannerProgram.foundByModule = new StoriesScanner().getName()\n                    }\n\n                    callback(scannerProgram)\n                })\n            }\n\n            // Detect feed posts\n            if (program.regexRootPath.test(program.path)) {\n                new FeedScanner().execute(program, function (scannerProgram: Program) {\n                    if (scannerProgram.foundMediaObj.found) {\n                        scannerProgram.foundByModule = new FeedScanner().getName()\n                    }\n\n                    callback(scannerProgram)\n                })\n            }\n\n            // Detect reels\n            if (program.regexReelsURI.test(program.path)) {\n                new ReelsScanner().execute(program, function (scannerProgram: Program) {\n                    if (scannerProgram.foundMediaObj.found) {\n                        scannerProgram.foundByModule = new ReelsScanner().getName()\n                    }\n\n                    callback(scannerProgram)\n                })\n            }\n\n            // Detect modal posts, reels\n            if (program.regexPostPath.test(program.path) || program.regexReelURI.test(program.path)) {\n                new PostReelScanner().execute(program, function (scannerProgram: Program) {\n                    if (scannerProgram.foundMediaObj.found) {\n                        scannerProgram.foundByModule = new PostReelScanner().getName()\n                    }\n\n                    callback(scannerProgram)\n                })\n            }\n            return\n        } catch (e) {\n            console.error(this.getName() + \"()\", `[${program.NAME}] ${program.VERSION}`, e)\n            program.foundMediaObj = {\n                found: false,\n                mediaType: undefined,\n                mediaInfo: undefined,\n                modalBody: undefined,\n                selectedIndex: undefined,\n                userName: undefined\n            }\n            callback(program)\n        }\n        /* =====  End of MediaScanner ======*/\n    }\n}","import { Program } from \"../App\"\r\nimport { Module } from \"./Module\"\r\nimport { generateModalBody } from \"../helpers/utils\"\r\n\r\nexport class PostReelScanner implements Module {\r\n    public getName(): string {\r\n        return \"PostReelScanner\"\r\n    }\r\n\r\n    /** @suppress {uselessCode} */\r\n    public async execute(program: Program, callback?: any): Promise<any> {\r\n        /* =====================================\r\n         =              PostScanner            =\r\n         ==================================== */\r\n        try {\r\n            // Define default variables\r\n            // Article\r\n            let $article: any\r\n\r\n            // Scanner begins\r\n            if (document.querySelector('div[role=\"dialog\"] article')) {\r\n                $article = document.querySelector('div[role=\"dialog\"] article')\r\n            } else {\r\n                $article = document.querySelector(\"section main > div > :first-child > :first-child\")\r\n            }\r\n\r\n            if (typeof $article !== 'undefined' || $article !== null || $article !== '') {\r\n                let v = await generateModalBody($article, program)\r\n\r\n                program.foundMediaObj = {\r\n                    found: v.found,\r\n                    mediaType: v.mediaType,\r\n                    mediaInfo: v.mediaInfo,\r\n                    modalBody: v.modalBody,\r\n                    selectedIndex: v.selectedIndex,\r\n                    userName: v.userName\r\n                }\r\n            }\r\n\r\n            callback(program)\r\n        } catch (e) {\r\n            console.error(this.getName() + \"()\", `[${program.NAME}] ${program.VERSION}`, e)\r\n            program.foundMediaObj = {\r\n                found: false,\r\n                mediaType: undefined,\r\n                mediaInfo: undefined,\r\n                modalBody: undefined,\r\n                selectedIndex: undefined,\r\n                userName: undefined\r\n            }\r\n            callback(program)\r\n        }\r\n        /* =====  End of PostScanner ======*/\r\n    }\r\n}","import { Program } from \"../App\"\r\nimport { Module } from \"./Module\"\r\nimport { getElementInViewPercentage, generateModalBody } from \"../helpers/utils\"\r\n\r\nexport class ReelsScanner implements Module {\r\n    public getName(): string {\r\n        return \"ReelsScanner\"\r\n    }\r\n\r\n    public getPostId(): string {\r\n        const url = window.location.href\r\n        const regex = /\\/p\\/([a-zA-Z0-9_-]+)/\r\n        const postId = url.match(regex)?.[1]\r\n\r\n        return postId\r\n    }\r\n\r\n    /** @suppress {uselessCode} */\r\n    public async execute(program: Program, callback?: any): Promise<any> {\r\n        /* =====================================\r\n         =        ReelsScanner                 =\r\n         ==================================== */\r\n        try {\r\n            // Define default variables\r\n            let modalBody = \"\"\r\n\r\n            // All grabed feed posts\r\n            let $articles: any\r\n\r\n            // Article\r\n            let $article: any\r\n\r\n            // Scanner begins\r\n            $articles = document.querySelectorAll('section > main > div > div')\r\n            $articles = Array.from($articles).filter(function (element) {\r\n                return (<any>element).children.length > 0\r\n            })\r\n\r\n            let mediaElInfos: any[] = []\r\n            // Find needed post\r\n            for (let i1 = 0; i1 < $articles.length; i1++) {\r\n                let mediaEl = $articles[i1]\r\n\r\n                if (mediaEl != null && typeof mediaEl.getBoundingClientRect() != null) {\r\n                    let elemVisiblePercentage = getElementInViewPercentage(mediaEl)\r\n                    mediaElInfos.push({ i1, mediaEl, elemVisiblePercentage })\r\n                } else {\r\n                    mediaElInfos.push({ i1, mediaEl, elemVisiblePercentage: 0 })\r\n                }\r\n            }\r\n\r\n            let objMax = mediaElInfos.reduce((max, current) => max.elemVisiblePercentage > current.elemVisiblePercentage ? max : current)\r\n            $article = $articles[objMax.i1]\r\n\r\n            if (typeof $article !== 'undefined' || $article !== null || $article !== '') {\r\n                let v = await generateModalBody($article, program)\r\n                modalBody += v.modalBody\r\n\r\n                program.foundMediaObj = {\r\n                    found: v.found,\r\n                    mediaType: v.mediaType,\r\n                    mediaInfo: v.mediaInfo,\r\n                    modalBody: modalBody,\r\n                    selectedIndex: v.selectedIndex,\r\n                    userName: v.userName\r\n                }\r\n            }\r\n\r\n            callback(program)\r\n        } catch (e) {\r\n            console.error(this.getName() + \"()\", `[${program.NAME}] ${program.VERSION}`, e)\r\n            program.foundMediaObj = {\r\n                found: false,\r\n                mediaType: undefined,\r\n                mediaInfo: undefined,\r\n                modalBody: undefined,\r\n                selectedIndex: undefined,\r\n                userName: undefined\r\n            }\r\n            callback(program)\r\n        }\r\n        /* =====  End of ReelsScanner ======*/\r\n    }\r\n}","import { Program } from \"../App\"\r\nimport { Module } from \"./Module\"\r\nimport { generateModalBody } from \"../helpers/utils\"\r\n\r\nexport class StoriesScanner implements Module {\r\n    public getName(): string {\r\n        return \"StoriesScanner\"\r\n    }\r\n\r\n    public pauseCurrentStory(el: any) {\r\n        // Trigger a click event on the pause button if it exists\r\n        let svgElement = el.querySelector(\"svg[viewBox='0 0 48 48']\")\r\n        if (svgElement !== null) {\r\n            if (typeof (<HTMLElement>svgElement).click === \"function\") {\r\n                (<HTMLElement>svgElement).click()\r\n            } else {\r\n                // Alternative approach for older browsers\r\n                const clickEvent = new MouseEvent(\"click\", {\r\n                    view: window,\r\n                    bubbles: true,\r\n                    cancelable: true,\r\n                })\r\n                svgElement.dispatchEvent(clickEvent)\r\n            }\r\n        }\r\n    }\r\n\r\n    /** @suppress {uselessCode} */\r\n    public async execute(program: Program, callback?: any): Promise<any> {\r\n        /* =====================================\r\n         =            StoriesScanner           =\r\n         ==================================== */\r\n        try {\r\n            // Define default variables\r\n            let modalBody = \"\"\r\n\r\n            // Container\r\n            let $container = document.querySelector(\"body > div:nth-child(3)\")\r\n            // Scanner begins\r\n            if ($container) {\r\n                // Detect right frontend\r\n                let multipleStoriesCount = $container.querySelector(\"section > div > div\").childElementCount\r\n\r\n                // Specific selector for each frontend\r\n                if (multipleStoriesCount > 1) {\r\n                    let stories: any = $container.querySelector(\"section > div > div\").childNodes\r\n\r\n                    for (let i = 0; i < (<any>stories).length; i++) {\r\n                        let transformStyle = (<any>stories[i]).style.transform\r\n\r\n                        if (<any>stories[i].childElementCount > 0 && transformStyle.includes(\"scale(1)\")) {\r\n                            // Pause any playing videos before show modal\r\n                            const pauseSettings = localStorage.getItem(program.NAME + '_setting2_checkbox')\r\n                            if (pauseSettings !== null && pauseSettings !== undefined && pauseSettings === 'true') {\r\n                                this.pauseCurrentStory(stories[i])\r\n                            }\r\n\r\n                            let v = await generateModalBody(stories[i], program)\r\n                            modalBody += v.modalBody\r\n\r\n                            program.foundMediaObj = {\r\n                                found: v.found,\r\n                                mediaType: v.mediaType,\r\n                                mediaInfo: v.mediaInfo,\r\n                                modalBody: modalBody,\r\n                                selectedIndex: v.selectedIndex,\r\n                                userName: v.userName\r\n                            }\r\n                            break\r\n                        }\r\n                    }\r\n                } else {\r\n                    let story: any = $container.querySelectorAll(\"section\")\r\n                    // Pause any playing videos before show modal\r\n                    const pauseSettings = localStorage.getItem(program.NAME + '_setting2_checkbox')\r\n                    if (pauseSettings !== null && pauseSettings !== undefined && pauseSettings === 'true') {\r\n                        this.pauseCurrentStory(story[0])\r\n                    }\r\n\r\n                    let v = await generateModalBody(story, program)\r\n                    modalBody += v.modalBody\r\n\r\n                    program.foundMediaObj = {\r\n                        found: v.found,\r\n                        mediaType: v.mediaType,\r\n                        mediaInfo: v.mediaInfo,\r\n                        modalBody: modalBody,\r\n                        selectedIndex: v.selectedIndex,\r\n                        userName: v.userName\r\n                    }\r\n                }\r\n            } else {\r\n                program.foundMediaObj = {\r\n                    found: false,\r\n                    mediaType: undefined,\r\n                    mediaInfo: undefined,\r\n                    modalBody: undefined,\r\n                    selectedIndex: undefined,\r\n                    userName: undefined\r\n                }\r\n            }\r\n\r\n            callback(program)\r\n        } catch (e) {\r\n            console.error(this.getName() + \"()\", `[${program.NAME}] ${program.VERSION}`, e)\r\n            program.foundMediaObj = {\r\n                found: false,\r\n                mediaType: undefined,\r\n                mediaInfo: undefined,\r\n                modalBody: undefined,\r\n                selectedIndex: undefined,\r\n                userName: undefined\r\n            }\r\n            callback(program)\r\n        }\r\n        /* =====  End of StoriesScanner ======*/\r\n    }\r\n}","import { program } from \"..\"\r\nimport { Modal } from \"../components/Modal\"\r\nimport localize from \"../helpers/localize\"\r\n\r\nfunction informOutdatedVersionInDevConsole(data: InstantgramData): void {\r\n    console.warn(localize('modules.update@consoleWarnOutdatedInfo'))\r\n    console.warn(\r\n        localize('modules.update@consoleWarnOutdatedInfoVersions')\r\n            .replace('${data.version}', data.version)\r\n            .replace('${data.onlineVersion}', data.onlineVersion)\r\n    )\r\n}\r\n\r\nfunction determineIfGetUpdateIsNecessary(localVersion: string): boolean {\r\n    const data = window.localStorage.getItem(`${program.NAME}`) as string\r\n\r\n    if (typeof data === 'string') {\r\n        const _data = JSON.parse(data) as InstantgramData\r\n\r\n        // Sync installed version with localStorage\r\n        window.localStorage.setItem(\r\n            `${program.NAME}`,\r\n            JSON.stringify({\r\n                version: localVersion,\r\n                onlineVersion: _data.onlineVersion,\r\n                lastVerification: _data.lastVerification,\r\n                dateExpiration: _data.dateExpiration\r\n            })\r\n        )\r\n\r\n        // compare versions cached\r\n        const onlineVersion = new Date(_data.onlineVersion)\r\n        const installedVersion = new Date(_data.onlineVersion)\r\n        if (onlineVersion > installedVersion) {\r\n            informOutdatedVersionInDevConsole(_data)\r\n        }\r\n\r\n        // compare date now with expiration\r\n        if (Date.now() > _data.dateExpiration) {\r\n            return true // must have update new informations from github\r\n        } else {\r\n            return false // have localStorage and is on the date\r\n        }\r\n    } else {\r\n        return true // dont have localStorage\r\n    }\r\n}\r\n\r\nasync function update(localVersion: string): Promise<void> {\r\n    if (determineIfGetUpdateIsNecessary(localVersion)) {\r\n        const response = await fetch(\r\n            'https://www.instagram.com/graphql/query/?query_hash=003056d32c2554def87228bc3fd9668a&variables={%22id%22:45039295328,%22first%22:100}'\r\n        )\r\n        const respJson = await response.json()\r\n        const changelog = respJson.data.user.edge_owner_to_timeline_media.edges[0].node.edge_media_to_caption.edges[0].node.text\r\n\r\n        const changelogSplitted = changelog.split(\"::\")\r\n        const changelogNewReleaseDate = changelogSplitted[0]\r\n        const changelogText = changelogSplitted[1]\r\n\r\n        // Generate unordered list\r\n        const sentences = changelogText.split(/[.!?]/)\r\n        let ul = '<ul style=\"padding: 20px;\">'\r\n        sentences.forEach((sentence: string) => {\r\n            if (sentence.trim() !== '') {\r\n                ul += `<li>${sentence.trim()}</li>`\r\n            }\r\n        })\r\n        ul += '</ul>'\r\n\r\n        const onlineVersion = changelogNewReleaseDate\r\n\r\n        // verify update each 2 days\r\n        const limitDate = new Date()\r\n        limitDate.setTime(limitDate.getTime() + 6 * 60 * 60 * 1000)\r\n\r\n        window.localStorage.setItem(\r\n            `${program.NAME}`,\r\n            JSON.stringify({\r\n                version: localVersion,\r\n                onlineVersion,\r\n                lastVerification: Date.now(),\r\n                dateExpiration: limitDate.valueOf()\r\n            })\r\n        )\r\n\r\n        console.info(localize('modules.update@determineIfGetUpdateIsNecessary_updated'))\r\n\r\n        // if instagram post had a update, notify in console and in a modal\r\n        const _onlineVersion = new Date(onlineVersion)\r\n        const installedVersion = new Date(localVersion)\r\n        if (_onlineVersion > installedVersion) {\r\n            new Modal({\r\n                heading: [\r\n                    `<h5>\r\n                        <span class=\"header-text-left\">[${program.NAME}]</span>\r\n                        <span class=\"header-text-right\" style=\"margin-right: 0\">v${localVersion}</span>\r\n                    </h5>\r\n                    `\r\n                ],\r\n                body: [\r\n                    `<div style='display: block;border: 2px solid rgb(0 0 0 / 70%);border-left: none;border-right: none;border-top: none;padding: 5px;font-variant: small-caps;font-weight: 900;font-size: 16px;'>Es ist ein neues Update verfügbar <span style='float:right'>v${onlineVersion}</span></div><div style='text-align:left'><h2 style='font-weight: bold;'><br>Changelog</h2>${ul}</div><a href='http://thinkbig-company.github.io/${program.NAME}' target='_blank' onmouseover=\"this.style.textDecoration='underline'\" onmouseout=\"this.style.textDecoration='initial'\" style='display: block; text-align: center;text-decoration: initial; margin: 0px auto; padding: 10px; color: black; border-style: solid; border-image-slice: 1; border-width: 3px; border-image-source: linear-gradient(to left, rgb(213, 58, 157), rgb(116, 58, 213));'>${localize('modules.update@determineIfGetUpdateIsNecessary_@load_update')}</a>`,\r\n                ],\r\n                buttonList: [\r\n                    {\r\n                        active: true,\r\n                        text: 'Ok',\r\n                    },\r\n                ],\r\n            }).open()\r\n\r\n            const data = JSON.parse(window.localStorage.getItem(`${program.NAME}`) as string)\r\n            informOutdatedVersionInDevConsole(data)\r\n        } else {\r\n            console.info(window.localStorage.getItem(`${program.NAME}`))\r\n        }\r\n    }\r\n}\r\n\r\nexport default update","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/index.ts\");\n",""],"names":[],"sourceRoot":""}